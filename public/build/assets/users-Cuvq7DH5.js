import{$ as t}from"./jquery-DxCMfk7S.js";import{D as n}from"./dataTables.bootstrap5-SLVZVhPx.js";import"./responsive.bootstrap5-CO5iH43l.js";import{s}from"./delete-modal-helper-Dt6JVILi.js";import{i as o}from"./tooltip-helper-B_gzMSQw.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./jquery-BQXThELV.js";import"./bootstrap-BTbS0qBz.js";import"./index-BEKk9TLb.js";window.btnDeleteUser=function(e,a){s({modalId:"deleteUserModal",formId:"deleteUserForm",itemNameId:"delete_user_title",id:e,name:a,route:window.userRoutes.destroy})};t(function(){if(!window.userRoutes||!window.userRoutes.index){console.error("userRoutes.index not defined.");return}new n("#users-table",{processing:!0,serverSide:!0,responsive:!0,autoWidth:!1,ajax:{url:window.userRoutes.index,type:"GET",dataType:"json",cache:!1,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},xhrFields:{withCredentials:!0},beforeSend:function(){console.log("DataTables: requesting users JSON from",window.userRoutes.index)},dataFilter:function(e){try{return JSON.parse(e),e}catch{return console.error("DataTables: response is not JSON",e),e}},error:function(e,a,r){console.error("DataTables AJAX error:",a,r,e.status,e.responseText),window.toast&&window.toast.error("Gagal memuat data user. Cek console.")}},columns:[{data:"DT_RowIndex",name:"DT_RowIndex",orderable:!1,searchable:!1},{data:"name",name:"name"},{data:"email",name:"email"},{data:"branch",name:"branch",orderable:!1,searchable:!1},{data:"roles",name:"roles",orderable:!1,searchable:!1},{data:"is_superadmin",name:"is_superadmin",orderable:!1,searchable:!1,className:"text-center"},{data:"is_active",name:"is_active",orderable:!1,searchable:!1,className:"text-center"},{data:"created_at",name:"created_at"},{data:"action",name:"action",orderable:!1,searchable:!1,className:"text-center"}],order:[[7,"desc"]],drawCallback:function(){try{window.lucide&&typeof window.lucide.replace=="function"&&window.lucide.replace()}catch{}o(document.querySelector("#users-table"))}}),t(document).on("click",".js-delete-user",function(e){e.preventDefault();const a=t(this).data("id"),r=t(this).data("name")||"";s({modalId:"deleteUserModal",formId:"deleteUserForm",itemNameId:"delete_user_title",id:a,name:r,route:window.userRoutes.destroy})});try{window.lucide&&typeof window.lucide.replace=="function"&&window.lucide.replace()}catch{}o()});
