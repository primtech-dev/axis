import{$ as E}from"./jquery-DxCMfk7S.js";import{q as Le,Q as ie}from"./quill-DTAFgF6S.js";/* empty css                   */import{a as _e,g as Re}from"./_commonjsHelpers-D6-XlEtG.js";import"./jquery-BQXThELV.js";import"./isObjectLike-mqpIr8Ea.js";var Yt={exports:{}},Qt={exports:{}},Jt={exports:{}};/*!
  * Bootstrap data.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Me=Jt.exports,ce;function qe(){return ce||(ce=1,function(v,k){(function(g,p){v.exports=p()})(Me,function(){const g=new Map;return{set(y,a,s){g.has(y)||g.set(y,new Map);const i=g.get(y);if(!i.has(a)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(a,s)},get(y,a){return g.has(y)&&g.get(y).get(a)||null},remove(y,a){if(!g.has(y))return;const s=g.get(y);s.delete(a),s.size===0&&g.delete(y)}}})}(Jt)),Jt.exports}var Xt={exports:{}},$t={exports:{}};/*!
  * Bootstrap index.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var De=$t.exports,de;function zt(){return de||(de=1,function(v,k){(function(g,p){p(k)})(De,function(g){const a="transitionend",s=f=>(f&&window.CSS&&window.CSS.escape&&(f=f.replace(/#([^\s"#']+)/g,(_,N)=>`#${CSS.escape(N)}`)),f),i=f=>f==null?`${f}`:Object.prototype.toString.call(f).match(/\s([a-z]+)/i)[1].toLowerCase(),w=f=>{do f+=Math.floor(Math.random()*1e6);while(document.getElementById(f));return f},m=f=>{if(!f)return 0;let{transitionDuration:_,transitionDelay:N}=window.getComputedStyle(f);const W=Number.parseFloat(_),M=Number.parseFloat(N);return!W&&!M?0:(_=_.split(",")[0],N=N.split(",")[0],(Number.parseFloat(_)+Number.parseFloat(N))*1e3)},P=f=>{f.dispatchEvent(new Event(a))},K=f=>!f||typeof f!="object"?!1:(typeof f.jquery<"u"&&(f=f[0]),typeof f.nodeType<"u"),nt=f=>K(f)?f.jquery?f[0]:f:typeof f=="string"&&f.length>0?document.querySelector(s(f)):null,X=f=>{if(!K(f)||f.getClientRects().length===0)return!1;const _=getComputedStyle(f).getPropertyValue("visibility")==="visible",N=f.closest("details:not([open])");if(!N)return _;if(N!==f){const W=f.closest("summary");if(W&&W.parentNode!==N||W===null)return!1}return _},st=f=>!f||f.nodeType!==Node.ELEMENT_NODE||f.classList.contains("disabled")?!0:typeof f.disabled<"u"?f.disabled:f.hasAttribute("disabled")&&f.getAttribute("disabled")!=="false",rt=f=>{if(!document.documentElement.attachShadow)return null;if(typeof f.getRootNode=="function"){const _=f.getRootNode();return _ instanceof ShadowRoot?_:null}return f instanceof ShadowRoot?f:f.parentNode?rt(f.parentNode):null},ft=()=>{},lt=f=>{f.offsetHeight},ut=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Z=[],J=f=>{document.readyState==="loading"?(Z.length||document.addEventListener("DOMContentLoaded",()=>{for(const _ of Z)_()}),Z.push(f)):f()},ht=()=>document.documentElement.dir==="rtl",S=f=>{J(()=>{const _=ut();if(_){const N=f.NAME,W=_.fn[N];_.fn[N]=f.jQueryInterface,_.fn[N].Constructor=f,_.fn[N].noConflict=()=>(_.fn[N]=W,f.jQueryInterface)}})},L=(f,_=[],N=f)=>typeof f=="function"?f.call(..._):N,q=(f,_,N=!0)=>{if(!N){L(f);return}const M=m(_)+5;let j=!1;const U=({target:Y})=>{Y===_&&(j=!0,_.removeEventListener(a,U),L(f))};_.addEventListener(a,U),setTimeout(()=>{j||P(_)},M)},z=(f,_,N,W)=>{const M=f.length;let j=f.indexOf(_);return j===-1?!N&&W?f[M-1]:f[0]:(j+=N?1:-1,W&&(j=(j+M)%M),f[Math.max(0,Math.min(j,M-1))])};g.defineJQueryPlugin=S,g.execute=L,g.executeAfterTransition=q,g.findShadowRoot=rt,g.getElement=nt,g.getNextActiveElement=z,g.getTransitionDurationFromElement=m,g.getUID=w,g.getjQuery=ut,g.isDisabled=st,g.isElement=K,g.isRTL=ht,g.isVisible=X,g.noop=ft,g.onDOMContentLoaded=J,g.parseSelector=s,g.reflow=lt,g.toType=i,g.triggerTransitionEnd=P,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})}($t,$t.exports)),$t.exports}/*!
  * Bootstrap event-handler.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ie=Xt.exports,ue;function ye(){return ue||(ue=1,function(v,k){(function(g,p){v.exports=p(zt())})(Ie,function(g){const p=/[^.]*(?=\..*)\.|.*/,y=/\..*/,a=/::\d+$/,s={};let i=1;const w={mouseenter:"mouseover",mouseleave:"mouseout"},m=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function P(S,L){return L&&`${L}::${i++}`||S.uidEvent||i++}function K(S){const L=P(S);return S.uidEvent=L,s[L]=s[L]||{},s[L]}function nt(S,L){return function q(z){return ht(z,{delegateTarget:S}),q.oneOff&&J.off(S,z.type,L),L.apply(S,[z])}}function X(S,L,q){return function z(f){const _=S.querySelectorAll(L);for(let{target:N}=f;N&&N!==this;N=N.parentNode)for(const W of _)if(W===N)return ht(f,{delegateTarget:N}),z.oneOff&&J.off(S,f.type,L,q),q.apply(N,[f])}}function st(S,L,q=null){return Object.values(S).find(z=>z.callable===L&&z.delegationSelector===q)}function rt(S,L,q){const z=typeof L=="string",f=z?q:L||q;let _=Z(S);return m.has(_)||(_=S),[z,f,_]}function ft(S,L,q,z,f){if(typeof L!="string"||!S)return;let[_,N,W]=rt(L,q,z);L in w&&(N=(u=>function(r){if(!r.relatedTarget||r.relatedTarget!==r.delegateTarget&&!r.delegateTarget.contains(r.relatedTarget))return u.call(this,r)})(N));const M=K(S),j=M[W]||(M[W]={}),U=st(j,N,_?q:null);if(U){U.oneOff=U.oneOff&&f;return}const Y=P(N,L.replace(p,"")),V=_?X(S,q,N):nt(S,N);V.delegationSelector=_?q:null,V.callable=N,V.oneOff=f,V.uidEvent=Y,j[Y]=V,S.addEventListener(W,V,_)}function lt(S,L,q,z,f){const _=st(L[q],z,f);_&&(S.removeEventListener(q,_,!!f),delete L[q][_.uidEvent])}function ut(S,L,q,z){const f=L[q]||{};for(const[_,N]of Object.entries(f))_.includes(z)&&lt(S,L,q,N.callable,N.delegationSelector)}function Z(S){return S=S.replace(y,""),w[S]||S}const J={on(S,L,q,z){ft(S,L,q,z,!1)},one(S,L,q,z){ft(S,L,q,z,!0)},off(S,L,q,z){if(typeof L!="string"||!S)return;const[f,_,N]=rt(L,q,z),W=N!==L,M=K(S),j=M[N]||{},U=L.startsWith(".");if(typeof _<"u"){if(!Object.keys(j).length)return;lt(S,M,N,_,f?q:null);return}if(U)for(const Y of Object.keys(M))ut(S,M,Y,L.slice(1));for(const[Y,V]of Object.entries(j)){const B=Y.replace(a,"");(!W||L.includes(B))&&lt(S,M,N,V.callable,V.delegationSelector)}},trigger(S,L,q){if(typeof L!="string"||!S)return null;const z=g.getjQuery(),f=Z(L),_=L!==f;let N=null,W=!0,M=!0,j=!1;_&&z&&(N=z.Event(L,q),z(S).trigger(N),W=!N.isPropagationStopped(),M=!N.isImmediatePropagationStopped(),j=N.isDefaultPrevented());const U=ht(new Event(L,{bubbles:W,cancelable:!0}),q);return j&&U.preventDefault(),M&&S.dispatchEvent(U),U.defaultPrevented&&N&&N.preventDefault(),U}};function ht(S,L={}){for(const[q,z]of Object.entries(L))try{S[q]=z}catch{Object.defineProperty(S,q,{configurable:!0,get(){return z}})}return S}return J})}(Xt)),Xt.exports}var Zt={exports:{}},te={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var He=te.exports,he;function ke(){return he||(he=1,function(v,k){(function(g,p){v.exports=p()})(He,function(){function g(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function p(a){return a.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`)}return{setDataAttribute(a,s,i){a.setAttribute(`data-bs-${p(s)}`,i)},removeDataAttribute(a,s){a.removeAttribute(`data-bs-${p(s)}`)},getDataAttributes(a){if(!a)return{};const s={},i=Object.keys(a.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of i){let m=w.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1),s[m]=g(a.dataset[w])}return s},getDataAttribute(a,s){return g(a.getAttribute(`data-bs-${p(s)}`))}}})}(te)),te.exports}/*!
  * Bootstrap config.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Be=Zt.exports,fe;function $e(){return fe||(fe=1,function(v,k){(function(g,p){v.exports=p(ke(),zt())})(Be,function(g,p){class y{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(s){return s=this._mergeConfigObj(s),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}_configAfterMerge(s){return s}_mergeConfigObj(s,i){const w=p.isElement(i)?g.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...p.isElement(i)?g.getDataAttributes(i):{},...typeof s=="object"?s:{}}}_typeCheckConfig(s,i=this.constructor.DefaultType){for(const[w,m]of Object.entries(i)){const P=s[w],K=p.isElement(P)?"element":p.toType(P);if(!new RegExp(m).test(K))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${K}" but expected type "${m}".`)}}}return y})}(Zt)),Zt.exports}/*!
  * Bootstrap base-component.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ze=Qt.exports,pe;function Ve(){return pe||(pe=1,function(v,k){(function(g,p){v.exports=p(qe(),ye(),$e(),zt())})(ze,function(g,p,y,a){const s="5.3.8";class i extends y{constructor(m,P){super(),m=a.getElement(m),m&&(this._element=m,this._config=this._getConfig(P),g.set(this._element,this.constructor.DATA_KEY,this))}dispose(){g.remove(this._element,this.constructor.DATA_KEY),p.off(this._element,this.constructor.EVENT_KEY);for(const m of Object.getOwnPropertyNames(this))this[m]=null}_queueCallback(m,P,K=!0){a.executeAfterTransition(m,P,K)}_getConfig(m){return m=this._mergeConfigObj(m,this._element),m=this._configAfterMerge(m),this._typeCheckConfig(m),m}static getInstance(m){return g.get(a.getElement(m),this.DATA_KEY)}static getOrCreateInstance(m,P={}){return this.getInstance(m)||new this(m,typeof P=="object"?P:null)}static get VERSION(){return s}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(m){return`${m}${this.EVENT_KEY}`}}return i})}(Qt)),Qt.exports}var ee={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ue=ee.exports,be;function Pe(){return be||(be=1,function(v,k){(function(g,p){v.exports=p(zt())})(Ue,function(g){const p=a=>{let s=a.getAttribute("data-bs-target");if(!s||s==="#"){let i=a.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),s=i&&i!=="#"?i.trim():null}return s?s.split(",").map(i=>g.parseSelector(i)).join(","):null},y={find(a,s=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(s,a))},findOne(a,s=document.documentElement){return Element.prototype.querySelector.call(s,a)},children(a,s){return[].concat(...a.children).filter(i=>i.matches(s))},parents(a,s){const i=[];let w=a.parentNode.closest(s);for(;w;)i.push(w),w=w.parentNode.closest(s);return i},prev(a,s){let i=a.previousElementSibling;for(;i;){if(i.matches(s))return[i];i=i.previousElementSibling}return[]},next(a,s){let i=a.nextElementSibling;for(;i;){if(i.matches(s))return[i];i=i.nextElementSibling}return[]},focusableChildren(a){const s=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(s,a).filter(i=>!g.isDisabled(i)&&g.isVisible(i))},getSelectorFromElement(a){const s=p(a);return s&&y.findOne(s)?s:null},getElementFromSelector(a){const s=p(a);return s?y.findOne(s):null},getMultipleElementsFromSelector(a){const s=p(a);return s?y.find(s):[]}};return y})}(ee)),ee.exports}/*!
  * Bootstrap tab.js v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var je=Yt.exports,me;function Fe(){return me||(me=1,function(v,k){(function(g,p){v.exports=p(Ve(),ye(),Pe(),zt())})(je,function(g,p,y,a){const s="tab",w=".bs.tab",m=`hide${w}`,P=`hidden${w}`,K=`show${w}`,nt=`shown${w}`,X=`click${w}`,st=`keydown${w}`,rt=`load${w}`,ft="ArrowLeft",lt="ArrowRight",ut="ArrowUp",Z="ArrowDown",J="Home",ht="End",S="active",L="fade",q="show",z="dropdown",f=".dropdown-toggle",_=".dropdown-menu",N=`:not(${f})`,W='.list-group, .nav, [role="tablist"]',M=".nav-item, .list-group-item",j=`.nav-link${N}, .list-group-item${N}, [role="tab"]${N}`,U='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Y=`${j}, ${U}`,V=`.${S}[data-bs-toggle="tab"], .${S}[data-bs-toggle="pill"], .${S}[data-bs-toggle="list"]`;class B extends g{constructor(r){super(r),this._parent=this._element.closest(W),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),p.on(this._element,st,c=>this._keydown(c)))}static get NAME(){return s}show(){const r=this._element;if(this._elemIsActive(r))return;const c=this._getActiveElem(),C=c?p.trigger(c,m,{relatedTarget:r}):null;p.trigger(r,K,{relatedTarget:c}).defaultPrevented||C&&C.defaultPrevented||(this._deactivate(c,r),this._activate(r,c))}_activate(r,c){if(!r)return;r.classList.add(S),this._activate(y.getElementFromSelector(r));const C=()=>{if(r.getAttribute("role")!=="tab"){r.classList.add(q);return}r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),p.trigger(r,nt,{relatedTarget:c})};this._queueCallback(C,r,r.classList.contains(L))}_deactivate(r,c){if(!r)return;r.classList.remove(S),r.blur(),this._deactivate(y.getElementFromSelector(r));const C=()=>{if(r.getAttribute("role")!=="tab"){r.classList.remove(q);return}r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),p.trigger(r,P,{relatedTarget:c})};this._queueCallback(C,r,r.classList.contains(L))}_keydown(r){if(![ft,lt,ut,Z,J,ht].includes(r.key))return;r.stopPropagation(),r.preventDefault();const c=this._getChildren().filter(D=>!a.isDisabled(D));let C;if([J,ht].includes(r.key))C=c[r.key===J?0:c.length-1];else{const D=[lt,Z].includes(r.key);C=a.getNextActiveElement(c,r.target,D,!0)}C&&(C.focus({preventScroll:!0}),B.getOrCreateInstance(C).show())}_getChildren(){return y.find(Y,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,c){this._setAttributeIfNotExists(r,"role","tablist");for(const C of c)this._setInitialAttributesOnChild(C)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);const c=this._elemIsActive(r),C=this._getOuterElement(r);r.setAttribute("aria-selected",c),C!==r&&this._setAttributeIfNotExists(C,"role","presentation"),c||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){const c=y.getElementFromSelector(r);c&&(this._setAttributeIfNotExists(c,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(c,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,c){const C=this._getOuterElement(r);if(!C.classList.contains(z))return;const D=(A,ct)=>{const Q=y.findOne(A,C);Q&&Q.classList.toggle(ct,c)};D(f,S),D(_,q),C.setAttribute("aria-expanded",c)}_setAttributeIfNotExists(r,c,C){r.hasAttribute(c)||r.setAttribute(c,C)}_elemIsActive(r){return r.classList.contains(S)}_getInnerElement(r){return r.matches(Y)?r:y.findOne(Y,r)}_getOuterElement(r){return r.closest(M)||r}static jQueryInterface(r){return this.each(function(){const c=B.getOrCreateInstance(this);if(typeof r=="string"){if(c[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);c[r]()}})}}return p.on(document,X,U,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),!a.isDisabled(this)&&B.getOrCreateInstance(this).show()}),p.on(window,rt,()=>{for(const u of y.find(V))B.getOrCreateInstance(u)}),a.defineJQueryPlugin(B),B})}(Yt)),Yt.exports}Fe();var re={exports:{}};const Ke=_e(Le);var ge;function We(){return ge||(ge=1,function(v,k){(function(p,y){v.exports=y(Ke)})(window,function(g){return function(p){function y(u){delete installedChunks[u]}var a=window.webpackHotUpdatequillBetterTable;window.webpackHotUpdatequillBetterTable=function(r,c){M(r,c),a&&a(r,c)};function s(u){var r=document.createElement("script");r.charset="utf-8",r.src=B.p+""+u+"."+m+".hot-update.js",document.head.appendChild(r)}function i(u){return u=u||1e4,new Promise(function(r,c){if(typeof XMLHttpRequest>"u")return c(new Error("No browser support"));try{var C=new XMLHttpRequest,D=B.p+""+m+".hot-update.json";C.open("GET",D,!0),C.timeout=u,C.send(null)}catch(A){return c(A)}C.onreadystatechange=function(){if(C.readyState===4)if(C.status===0)c(new Error("Manifest request to "+D+" timed out."));else if(C.status===404)r();else if(C.status!==200&&C.status!==304)c(new Error("Manifest request to "+D+" failed."));else{try{var A=JSON.parse(C.responseText)}catch(ct){c(ct);return}r(A)}}})}var w=!0,m="ced44c7892a78034ffe4",P=1e4,K={},nt,X=[],st=[];function rt(u){var r=V[u];if(!r)return B;var c=function(A){return r.hot.active?(V[A]?V[A].parents.indexOf(u)===-1&&V[A].parents.push(u):(X=[u],nt=A),r.children.indexOf(A)===-1&&r.children.push(A)):(console.warn("[HMR] unexpected require("+A+") from disposed module "+u),X=[]),B(A)},C=function(ct){return{configurable:!0,enumerable:!0,get:function(){return B[ct]},set:function(Q){B[ct]=Q}}};for(var D in B)Object.prototype.hasOwnProperty.call(B,D)&&D!=="e"&&D!=="t"&&Object.defineProperty(c,D,C(D));return c.e=function(A){return ut==="ready"&&Z("prepare"),ht++,B.e(A).then(ct,function(Q){throw ct(),Q});function ct(){ht--,ut==="prepare"&&(S[A]||j(A),ht===0&&J===0&&U())}},c.t=function(A,ct){return ct&1&&(A=c(A)),B.t(A,ct&-2)},c}function ft(u){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:nt!==u,active:!0,accept:function(c,C){if(c===void 0)r._selfAccepted=!0;else if(typeof c=="function")r._selfAccepted=c;else if(typeof c=="object")for(var D=0;D<c.length;D++)r._acceptedDependencies[c[D]]=C||function(){};else r._acceptedDependencies[c]=C||function(){}},decline:function(c){if(c===void 0)r._selfDeclined=!0;else if(typeof c=="object")for(var C=0;C<c.length;C++)r._declinedDependencies[c[C]]=!0;else r._declinedDependencies[c]=!0},dispose:function(c){r._disposeHandlers.push(c)},addDisposeHandler:function(c){r._disposeHandlers.push(c)},removeDisposeHandler:function(c){var C=r._disposeHandlers.indexOf(c);C>=0&&r._disposeHandlers.splice(C,1)},check:W,apply:Y,status:function(c){if(!c)return ut;lt.push(c)},addStatusHandler:function(c){lt.push(c)},removeStatusHandler:function(c){var C=lt.indexOf(c);C>=0&&lt.splice(C,1)},data:K[u]};return nt=void 0,r}var lt=[],ut="idle";function Z(u){ut=u;for(var r=0;r<lt.length;r++)lt[r].call(null,u)}var J=0,ht=0,S={},L={},q={},z,f,_;function N(u){var r=+u+""===u;return r?+u:u}function W(u){if(ut!=="idle")throw new Error("check() is only allowed in idle status");return w=u,Z("check"),i(P).then(function(r){if(!r)return Z("idle"),null;L={},S={},q=r.c,_=r.h,Z("prepare");var c=new Promise(function(D,A){z={resolve:D,reject:A}});f={};var C=2;return j(C),ut==="prepare"&&ht===0&&J===0&&U(),c})}function M(u,r){if(!(!q[u]||!L[u])){L[u]=!1;for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(f[c]=r[c]);--J===0&&ht===0&&U()}}function j(u){q[u]?(L[u]=!0,J++,s(u)):S[u]=!0}function U(){Z("ready");var u=z;if(z=null,!!u)if(w)Promise.resolve().then(function(){return Y(w)}).then(function(C){u.resolve(C)},function(C){u.reject(C)});else{var r=[];for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&r.push(N(c));u.resolve(r)}}function Y(u){if(ut!=="ready")throw new Error("apply() is only allowed in ready status");u=u||{};var r,c,C,D,A;function ct(et){for(var at=[et],gt={},Ct=at.map(function(Wt){return{chain:[Wt],id:Wt}});Ct.length>0;){var It=Ct.pop(),wt=It.id,At=It.chain;if(D=V[wt],!(!D||D.hot._selfAccepted)){if(D.hot._selfDeclined)return{type:"self-declined",chain:At,moduleId:wt};if(D.hot._main)return{type:"unaccepted",chain:At,moduleId:wt};for(var Ht=0;Ht<D.parents.length;Ht++){var it=D.parents[Ht],kt=V[it];if(kt){if(kt.hot._declinedDependencies[wt])return{type:"declined",chain:At.concat([it]),moduleId:wt,parentId:it};if(at.indexOf(it)===-1){if(kt.hot._acceptedDependencies[wt]){gt[it]||(gt[it]=[]),Q(gt[it],[wt]);continue}delete gt[it],at.push(it),Ct.push({chain:At.concat([it]),id:it})}}}}}return{type:"accepted",moduleId:et,outdatedModules:at,outdatedDependencies:gt}}function Q(et,at){for(var gt=0;gt<at.length;gt++){var Ct=at[gt];et.indexOf(Ct)===-1&&et.push(Ct)}}var pt={},bt=[],yt={},Vt=function(){console.warn("[HMR] unexpected require("+tt.moduleId+") to disposed module")};for(var St in f)if(Object.prototype.hasOwnProperty.call(f,St)){A=N(St);var tt;f[St]?tt=ct(A):tt={type:"disposed",moduleId:St};var Tt=!1,Ut=!1,Pt=!1,Ot="";switch(tt.chain&&(Ot=`
Update propagation: `+tt.chain.join(" -> ")),tt.type){case"self-declined":u.onDeclined&&u.onDeclined(tt),u.ignoreDeclined||(Tt=new Error("Aborted because of self decline: "+tt.moduleId+Ot));break;case"declined":u.onDeclined&&u.onDeclined(tt),u.ignoreDeclined||(Tt=new Error("Aborted because of declined dependency: "+tt.moduleId+" in "+tt.parentId+Ot));break;case"unaccepted":u.onUnaccepted&&u.onUnaccepted(tt),u.ignoreUnaccepted||(Tt=new Error("Aborted because "+A+" is not accepted"+Ot));break;case"accepted":u.onAccepted&&u.onAccepted(tt),Ut=!0;break;case"disposed":u.onDisposed&&u.onDisposed(tt),Pt=!0;break;default:throw new Error("Unexception type "+tt.type)}if(Tt)return Z("abort"),Promise.reject(Tt);if(Ut){yt[A]=f[A],Q(bt,tt.outdatedModules);for(A in tt.outdatedDependencies)Object.prototype.hasOwnProperty.call(tt.outdatedDependencies,A)&&(pt[A]||(pt[A]=[]),Q(pt[A],tt.outdatedDependencies[A]))}Pt&&(Q(bt,[tt.moduleId]),yt[A]=Vt)}var Mt=[];for(c=0;c<bt.length;c++)A=bt[c],V[A]&&V[A].hot._selfAccepted&&yt[A]!==Vt&&Mt.push({module:A,errorHandler:V[A].hot._selfAccepted});Z("dispose"),Object.keys(q).forEach(function(et){q[et]===!1&&y(et)});for(var xt,jt=bt.slice();jt.length>0;)if(A=jt.pop(),D=V[A],!!D){var Ft={},Kt=D.hot._disposeHandlers;for(C=0;C<Kt.length;C++)r=Kt[C],r(Ft);for(K[A]=Ft,D.hot.active=!1,delete V[A],delete pt[A],C=0;C<D.children.length;C++){var qt=V[D.children[C]];qt&&(xt=qt.parents.indexOf(A),xt>=0&&qt.parents.splice(xt,1))}}var Lt,vt;for(A in pt)if(Object.prototype.hasOwnProperty.call(pt,A)&&(D=V[A],D))for(vt=pt[A],C=0;C<vt.length;C++)Lt=vt[C],xt=D.children.indexOf(Lt),xt>=0&&D.children.splice(xt,1);Z("apply"),m=_;for(A in yt)Object.prototype.hasOwnProperty.call(yt,A)&&(p[A]=yt[A]);var mt=null;for(A in pt)if(Object.prototype.hasOwnProperty.call(pt,A)&&(D=V[A],D)){vt=pt[A];var _t=[];for(c=0;c<vt.length;c++)if(Lt=vt[c],r=D.hot._acceptedDependencies[Lt],r){if(_t.indexOf(r)!==-1)continue;_t.push(r)}for(c=0;c<_t.length;c++){r=_t[c];try{r(vt)}catch(et){u.onErrored&&u.onErrored({type:"accept-errored",moduleId:A,dependencyId:vt[c],error:et}),u.ignoreErrored||mt||(mt=et)}}}for(c=0;c<Mt.length;c++){var Dt=Mt[c];A=Dt.module,X=[A];try{B(A)}catch(et){if(typeof Dt.errorHandler=="function")try{Dt.errorHandler(et)}catch(at){u.onErrored&&u.onErrored({type:"self-accept-error-handler-errored",moduleId:A,error:at,originalError:et}),u.ignoreErrored||mt||(mt=at),mt||(mt=et)}else u.onErrored&&u.onErrored({type:"self-accept-errored",moduleId:A,error:et}),u.ignoreErrored||mt||(mt=et)}}return mt?(Z("fail"),Promise.reject(mt)):(Z("idle"),new Promise(function(et){et(bt)}))}var V={};function B(u){if(V[u])return V[u].exports;var r=V[u]={i:u,l:!1,exports:{},hot:ft(u),parents:(st=X,X=[],st),children:[]};return p[u].call(r.exports,r,r.exports,rt(u)),r.l=!0,r.exports}return B.m=p,B.c=V,B.d=function(u,r,c){B.o(u,r)||Object.defineProperty(u,r,{enumerable:!0,get:c})},B.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},B.t=function(u,r){if(r&1&&(u=B(u)),r&8||r&4&&typeof u=="object"&&u&&u.__esModule)return u;var c=Object.create(null);if(B.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:u}),r&2&&typeof u!="string")for(var C in u)B.d(c,C,(function(D){return u[D]}).bind(null,C));return c},B.n=function(u){var r=u&&u.__esModule?function(){return u.default}:function(){return u};return B.d(r,"a",r),r},B.o=function(u,r){return Object.prototype.hasOwnProperty.call(u,r)},B.p="",B.h=function(){return m},rt(12)(B.s=12)}([function(p,y){p.exports=g},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 336.64h526.628572v43.885714H73.142857zM73.142857 643.657143h526.628572v43.885714H73.142857zM336.457143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857h-219.428571v877.714286h219.428571a131.657143 131.657143 0 0 0 131.657143-131.657143V204.8A131.84 131.84 0 0 0 819.2 73.142857z m44.068571 460.982857h-65.828571v65.828572H753.371429v-65.828572h-65.828572V490.057143h65.828572v-65.828572h44.068571v65.828572h65.828571z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M380.342857 336.457143h526.811429v43.885714H380.342857z m0 307.2h526.811429v43.885714H380.342857zM643.657143 117.028571h43.885714v789.942858h-43.885714zM204.8 73.142857h614.582857A131.474286 131.474286 0 0 1 950.857143 204.8v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.588571 87.771429v614.4a87.588571 87.588571 0 0 0 87.588571 87.771429h614.582857a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM204.8 73.142857A131.657143 131.657143 0 0 0 73.142857 204.8v614.4a131.657143 131.657143 0 0 0 131.657143 131.657143h219.428571V73.142857z m131.84 460.8h-65.828571v65.828572h-43.885715v-65.828572h-65.828571v-43.885714h65.828571v-65.828572h43.885715v65.828572h65.828571z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M73.142857 599.771429h877.714286v43.885714H73.142857zM336.457143 380.342857h43.885714v526.628572h-43.885714z m307.2 0h43.885714v526.628572h-43.885714zM204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.657143 131.657143 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.588571 87.588571 0 0 0 87.771429 87.771429h614.4a87.588571 87.588571 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM819.2 73.142857H204.8A131.657143 131.657143 0 0 0 73.142857 204.8v219.428571h877.714286v-219.428571A131.657143 131.657143 0 0 0 819.2 73.142857z m-219.428571 197.485714h-65.828572v65.828572h-43.885714v-65.828572h-65.828572v-43.885714h65.828572V160.914286h43.885714v65.828571h65.828572z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M204.8 73.142857h614.4a131.657143 131.657143 0 0 1 131.657143 131.657143v614.4a131.657143 131.657143 0 0 1-131.657143 131.657143H204.8A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.8 73.142857z m0 43.885714a87.771429 87.771429 0 0 0-87.771429 87.771429v614.4a87.771429 87.771429 0 0 0 87.771429 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v44.068571H73.142857zM336.64 117.028571h43.885714v526.628572h-43.885714z m307.017143 0h44.068571v526.628572H643.657143zM73.142857 599.771429v219.428571a131.657143 131.657143 0 0 0 131.657143 131.657143h614.4a131.657143 131.657143 0 0 0 131.657143-131.657143v-219.428571z m526.628572 197.485714h-65.645715v65.828571H490.057143v-65.828571h-65.828572v-43.885714h65.828572v-65.828572h44.068571v65.828572h65.645715z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-277.850505 5.559596v226.909091H375.725253V104.59798h272.420202zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v226.909091H103.434343V195.361616z m90.763637 726.367677c-24.048485 0-47.191919-9.567677-64.129293-26.634344-17.066667-17.066667-26.634343-40.080808-26.634344-64.129292V649.309091h226.909091v272.420202H194.19798z m181.527273 0V649.309091h272.290909v272.420202H375.725253z m544.711111-90.892929c0 24.048485-9.567677 47.191919-26.634344 64.129293-17.066667 17.066667-40.080808 26.634343-64.129293 26.634343H693.527273V649.309091h226.909091v181.527273zM693.527273 331.507071V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.145455H693.527273z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M336.457143 73.142857h43.885714v877.714286h-43.885714z m307.382857 0h43.702857v877.714286h-43.702857z m-438.857143 0h614.4A131.657143 131.657143 0 0 1 950.857143 204.8v614.4a131.474286 131.474286 0 0 1-131.474286 131.657143h-614.4A131.657143 131.657143 0 0 1 73.142857 819.2V204.8A131.84 131.84 0 0 1 204.982857 73.142857z m0 43.885714a87.588571 87.588571 0 0 0-87.771428 87.771429v614.4a87.588571 87.588571 0 0 0 87.771428 87.771429h614.4a87.771429 87.771429 0 0 0 87.771429-87.771429V204.8a87.771429 87.771429 0 0 0-87.771429-87.771429zM73.142857 336.457143h877.714286v307.2H73.142857z m292.571429 43.885714v219.428572h292.571428v-219.428572z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.996 99.038c-25.47-25.6-60.121-39.822-96.323-39.822H194.198c-75.12 0.13-136.016 61.026-136.145 136.146v635.345c0 36.073 14.351 70.723 39.822 96.323 25.6 25.73 60.25 40.081 96.323 40.081h635.475c36.072 0 70.723-14.351 96.323-39.951 25.6-25.6 39.951-60.122 39.951-96.324V195.362c0-36.073-14.351-70.724-39.951-96.324z m-365.77 494.287L512 545.228l-48.226 48.097-32.194-31.935 48.355-48.226-48.226-48.097 32.194-32.194L512 480.97l48.097-48.097 32.194 32.194-48.097 48.097 48.226 48.226-32.194 31.935zM103.434 195.362c0-24.049 9.568-47.192 26.635-64.13 17.066-17.066 40.08-26.634 64.129-26.634h136.145v226.91H103.434V195.361z m0 181.656h226.91V649.31h-226.91V377.02z m90.764 544.84c-24.049 0-47.192-9.567-64.13-26.634-17.066-17.066-26.634-40.08-26.634-64.258V694.69h226.91v227.168H194.197z m726.238-90.763c0 24.048-9.438 47.192-26.505 64.259-17.066 17.066-40.21 26.634-64.258 26.505H693.527V694.69h226.91v136.404z m0-181.786H693.527V377.02h226.91v272.29zM693.527 331.507V104.598h136.146c24.048 0 47.192 9.438 64.258 26.505 17.067 17.067 26.635 40.21 26.505 64.259v136.145H693.527z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M925.99596 99.038384c-25.470707-25.6-60.121212-39.822222-96.323233-39.822222H194.19798c-36.072727 0-70.723232 14.351515-96.323233 39.822222-25.6 25.6-39.822222 60.121212-39.822222 96.323232v635.474748c0 36.072727 14.351515 70.723232 39.822222 96.323232C123.474747 952.759596 158.125253 967.111111 194.19798 967.111111h635.474747c36.072727 0 70.723232-14.351515 96.323233-39.951515 25.6-25.6 39.951515-60.121212 39.951515-96.323232V195.361616c0-36.072727-14.351515-70.723232-39.951515-96.323232z m-550.270707 5.559596h272.290909v227.167677H375.725253V104.59798z m56.242424 360.468687l31.935353-32.19394 48.09697 48.226263 48.09697-48.226263 32.193939 32.19394-48.09697 48.096969 48.226263 48.226263-32.193939 31.935354-48.226263-48.09697-48.226263 48.09697-31.935353-31.935354 48.226262-48.226263-48.096969-48.096969zM103.434343 195.361616c0-24.048485 9.567677-47.191919 26.634344-64.129293 17.066667-17.066667 40.080808-26.634343 64.129293-26.634343h136.145454v227.167677H103.434343V195.361616z m817.002021 635.733333c0 24.048485-9.567677 47.191919-26.634344 64.258586-17.066667 17.066667-40.080808 26.634343-64.129293 26.634344H194.19798c-24.048485 0-47.191919-9.567677-64.258586-26.634344C112.872727 878.157576 103.434343 855.014141 103.434343 830.836364V694.690909h226.909091v226.909091h45.381819V694.690909h272.290909v226.909091h45.381818V694.690909h226.909091v136.40404z m0-499.329292H693.527273V104.59798h136.145454c24.048485 0 47.191919 9.567677 64.129293 26.634343 17.066667 17.066667 26.634343 40.080808 26.634344 64.129293v136.404041z"/></svg>'},function(p,y){p.exports='<?xml version="1.0" standalone="no"?><!doctype html><svg class=icon width=20px height=20.00px viewBox="0 0 1024 1024" version=1.1 xmlns=http://www.w3.org/2000/svg><path fill=#595959 d="M764.42168889 830.5152c0 30.23530667-24.61013333 54.84430222-54.84316444 54.84430222H314.42147555c-30.23416889 0-54.84316445-24.61013333-54.84316444-54.84430222V248.32796445h504.84337778v582.18723555zM369.26577778 149.89084445c0-6.32832 4.92202667-11.25034667 11.25034667-11.25034667H644.18702222c6.32832 0 11.25034667 4.92202667 11.25034667 11.25034667v33.04675555H369.26577778V149.89084445z m559.68768 33.04675555H720.82773333V149.89084445c0-42.1888-34.45191111-76.64071111-76.64071111-76.64071112H380.51612445c-42.1888 0-76.64071111 34.45191111-76.64071112 76.64071112v33.04675555h-208.82773333c-18.28181333 0-33.04789333 14.76608-33.04789333 33.04675555s14.76608 33.04675555 33.04675555 33.04675556h98.43825778v581.48408889c0 66.79779555 54.14001778 120.93781333 120.93667555 120.93781333h395.1570489c66.79665778 0 120.93667555-54.14001778 120.93667555-120.93781333V248.32796445h98.43825778c18.28067555 0 33.04675555-14.76494222 33.04675555-33.04675556s-14.76608-32.34360889-33.04675555-32.34360889zM512 786.21923555c18.28181333 0 33.04675555-14.76608 33.04675555-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675555-33.04675556s-33.04675555 14.76494222-33.04675555 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675555 33.04789333m-153.98456889 0c18.28181333 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76494222-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0.70314667 18.28181333 15.46922667 33.04789333 33.04675556 33.04789333m307.96913778 0c18.28067555 0 33.04675555-14.76608 33.04675556-33.04789333v-351.56195555c0-18.28181333-14.76608-33.04675555-33.04675556-33.04675556s-33.04675555 14.76494222-33.04675556 33.04675556v351.56195555c0 18.28181333 14.76494222 33.04789333 33.04675556 33.04789333"/></svg>'},function(p,y,a){a.r(y);var s=a(0),i=a.n(s);function w(h,t){if(typeof t=="object")for(let e in t)h.style[e]=t[e]}function m(h,t){let e=t.getBoundingClientRect();return{x:h.x-e.x-t.scrollLeft,y:h.y-e.y-t.scrollTop,x1:h.x-e.x-t.scrollLeft+h.width,y1:h.y-e.y-t.scrollTop+h.height,width:h.width,height:h.height}}function P(h,t){return h&&Object.keys(h).reduce((e,n)=>t.includes(n)?e:Object.assign({},e,{[n]:h[n]}),{})}function K(h){let t;if(t=h.path||h.composedPath&&h.composedPath(),t==null&&h.target){t=[];let e=h.target;for(t.push(e);e&&e.parentNode;)e=e.parentNode,t.push(e)}return t}function nt(h){var t=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(/^(rgb|RGB)/.test(h)){for(var e=h.toString().match(/\d+/g),n="#",o=0;o<3;o++)n+=("0"+Number(e[o]).toString(16)).slice(-2);return n}else if(t.test(h)){var l=h.replace(/#/,"").split("");if(l.length===6)return h;if(l.length===3){for(var d="#",o=0;o<l.length;o+=1)d+=l[o]+l[o];return d}}return h}const X=12,st=12,rt=50,ft="#35A7ED";class lt{constructor(t,e,n){if(!t)return null;this.table=t,this.quill=e,this.options=n,this.domNode=null,this.initColTool()}initColTool(){const t=this.quill.root.parentNode;this.table.getBoundingClientRect();const e=t.getBoundingClientRect(),n=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-col-tool"),this.updateToolCells(),t.appendChild(this.domNode),w(this.domNode,{width:"".concat(n.width,"px"),height:"".concat(X,"px"),left:"".concat(n.left-e.left+t.scrollLeft,"px"),top:"".concat(n.top-e.top+t.scrollTop-X-5,"px")})}createToolCell(){const t=document.createElement("div");t.classList.add("qlbt-col-tool-cell");const e=document.createElement("div");return e.classList.add("qlbt-col-tool-cell-holder"),w(t,{height:"".concat(st,"px")}),t.appendChild(e),t}updateToolCells(){const t=i.a.find(this.table),e=t.children.tail.children.head.children,n=t.colGroup().children,o=ut(e);let l=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"));for(let d=0;d<Math.max(o,l.length);d++){let b=n.at(d),x=b&&parseInt(b.formats()[b.statics.blotName].width,10),T=null;l[d]?l[d]&&d>=o?l[d].remove():(T=l[d],w(T,{"min-width":"".concat(x,"px")})):(T=this.createToolCell(),this.domNode.appendChild(T),this.addColCellHolderHandler(T),w(T,{"min-width":"".concat(x,"px")}))}}destroy(){return this.domNode.remove(),null}addColCellHolderHandler(t){const e=i.a.find(this.table),n=t.querySelector(".qlbt-col-tool-cell-holder");let o=!1,l=0,d=0,b=0,x=0,T={},O={},I=null;const H=F=>{F.preventDefault(),o&&(d=F.clientX,x+d-l>=rt?b=d-l:b=rt-x,w(I,{left:"".concat(O.left+O.width-1+b,"px")}))},R=F=>{F.preventDefault();const G=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell")).indexOf(t),dt=e.colGroup().children.at(G);o&&(dt.format("width",x+b),w(t,{"min-width":"".concat(x+b,"px")}),l=0,d=0,b=0,x=0,o=!1,n.classList.remove("dragging")),document.removeEventListener("mousemove",H,!1),document.removeEventListener("mouseup",R,!1),T={},O={},I.remove(),I=null,e.updateTableWidth();const Bt=this.quill.getModule("better-table").tableSelection;Bt&&Bt.clearSelection()},$=F=>{document.addEventListener("mousemove",H,!1),document.addEventListener("mouseup",R,!1),T=this.table.getBoundingClientRect(),O=t.getBoundingClientRect(),I=document.createElement("div"),w(I,{position:"fixed",top:"".concat(O.top,"px"),left:"".concat(O.left+O.width-1,"px"),zIndex:"100",height:"".concat(T.height+X+4,"px"),width:"1px",backgroundColor:ft}),document.body.appendChild(I),o=!0,l=F.clientX,x=O.width,n.classList.add("dragging")};n.addEventListener("mousedown",$,!1)}colToolCells(){return Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"))}}function ut(h){return h.reduce((t,e)=>{const n=e.formats().colspan;return t=t+parseInt(n,10),t},0)}const Z=i.a.import("blots/block");class J extends Z{static create(t){typeof t=="string"&&(t={value:t});const e=super.create(t.value);return _.forEach(n=>{t[n]&&e.setAttribute("data-".concat(n),t[n])}),N.forEach(n=>{t[n]&&e.setAttribute("data-".concat(n),t[n])}),e}static formats(t){const e={};return e.value=this.tagName.indexOf(t.tagName)+1,N.concat(_).reduce((n,o)=>(t.hasAttribute("data-".concat(o))&&(n[o]=t.getAttribute("data-".concat(o))||void 0),n),e)}format(t,e){const{row:n,cell:o,rowspan:l,colspan:d}=J.formats(this.domNode);t===J.blotName?e?super.format(t,{value:e,row:n,cell:o,rowspan:l,colspan:d}):n?this.replaceWith(j.blotName,{row:n,cell:o,rowspan:l,colspan:d}):super.format(t,e):super.format(t,e)}optimize(t){const{row:e,rowspan:n,colspan:o}=J.formats(this.domNode);if(e&&!(this.parent instanceof U)&&this.wrap(U.blotName,{row:e,colspan:o,rowspan:n}),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const l=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(l)}else this.remove();this.cache={}}}J.blotName="header",J.tagName=["H1","H2","H3","H4","H5","H6"];var ht=J;const S=i.a.import("blots/break"),L=i.a.import("blots/block"),q=i.a.import("blots/container"),z=["width"],f={width:100},_=["row","cell"],N=["rowspan","colspan"],W={rowspan:1,colspan:1},M=5;class j extends L{static create(t){const e=super.create(t);return _.forEach(n=>{let o=n==="row"?C:D;e.setAttribute("data-".concat(n),t[n]||o())}),N.forEach(n=>{e.setAttribute("data-".concat(n),t[n]||W[n])}),t["cell-bg"]&&e.setAttribute("data-cell-bg",t["cell-bg"]),e}static formats(t){const e={};return N.concat(_).concat(["cell-bg"]).reduce((n,o)=>(t.hasAttribute("data-".concat(o))&&(n[o]=t.getAttribute("data-".concat(o))||void 0),n),e)}format(t,e){if(N.concat(_).indexOf(t)>-1)e?this.domNode.setAttribute("data-".concat(t),e):this.domNode.removeAttribute("data-".concat(t));else if(t==="cell-bg")e?this.domNode.setAttribute("data-cell-bg",e):this.domNode.removeAttribute("data-cell-bg");else if(t==="header"){if(!e)return;const{row:n,cell:o,rowspan:l,colspan:d}=j.formats(this.domNode);super.format(t,{value:e,row:n,cell:o,rowspan:l,colspan:d})}else super.format(t,e)}optimize(t){const e=this.domNode.getAttribute("data-row"),n=this.domNode.getAttribute("data-rowspan"),o=this.domNode.getAttribute("data-colspan"),l=this.domNode.getAttribute("data-cell-bg");this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:e,colspan:o,rowspan:n,"cell-bg":l}),super.optimize(t)}tableCell(){return this.parent}}j.blotName="table-cell-line",j.className="qlbt-cell-line",j.tagName="P";class U extends q{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats()[this.children.head.statics.blotName],e=this.children.tail.formats()[this.children.tail.statics.blotName],n=this.next.children.head.formats()[this.next.children.head.statics.blotName],o=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return t.cell===e.cell&&t.cell===n.cell&&t.cell===o.cell}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),N.forEach(n=>{t[n]&&e.setAttribute(n,t[n])}),t["cell-bg"]&&(e.setAttribute("data-cell-bg",t["cell-bg"]),e.style.backgroundColor=t["cell-bg"]),e}static formats(t){const e={};return t.hasAttribute("data-row")&&(e.row=t.getAttribute("data-row")),t.hasAttribute("data-cell-bg")&&(e["cell-bg"]=t.getAttribute("data-cell-bg")),N.reduce((n,o)=>(t.hasAttribute(o)&&(n[o]=t.getAttribute(o)),n),e)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){const t={};return this.domNode.hasAttribute("data-row")&&(t.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(t["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),N.reduce((e,n)=>(this.domNode.hasAttribute(n)&&(e[n]=this.domNode.getAttribute(n)),e),t)}toggleAttribute(t,e){e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t)}formatChildren(t,e){this.children.forEach(n=>{n.format(t,e)})}format(t,e){N.indexOf(t)>-1?(this.toggleAttribute(t,e),this.formatChildren(t,e)):["row"].indexOf(t)>-1?(this.toggleAttribute("data-".concat(t),e),this.formatChildren(t,e)):t==="cell-bg"?(this.toggleAttribute("data-cell-bg",e),this.formatChildren(t,e),e?this.domNode.style.backgroundColor=e:this.domNode.style.backgroundColor="initial"):super.format(t,e)}optimize(t){const e=this.domNode.getAttribute("data-row");this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:e}),super.optimize(t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}U.blotName="table",U.tagName="TD";class Y extends q{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),o=this.next.children.tail.formats();return t.row===e.row&&t.row===n.row&&t.row===o.row}return!1}static create(t){const e=super.create(t);return e.setAttribute("data-row",t.row),e}formats(){return["row"].reduce((t,e)=>(this.domNode.hasAttribute("data-".concat(e))&&(t[e]=this.domNode.getAttribute("data-".concat(e))),t),{})}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Y.blotName="table-row",Y.tagName="TR";class V extends q{}V.blotName="table-body",V.tagName="TBODY";class B extends L{static create(t){let e=super.create(t);return z.forEach(n=>{e.setAttribute("".concat(n),t[n]||f[n])}),e}static formats(t){return z.reduce((e,n)=>(t.hasAttribute("".concat(n))&&(e[n]=t.getAttribute("".concat(n))||void 0),e),{})}format(t,e){z.indexOf(t)>-1?this.domNode.setAttribute("".concat(t),e||f[t]):super.format(t,e)}html(){return this.domNode.outerHTML}}B.blotName="table-col",B.tagName="col";class u extends q{}u.blotName="table-col-group",u.tagName="colgroup";class r extends q{static create(){return super.create()}constructor(t,e){super(t,e),this.updateTableWidth()}updateTableWidth(){setTimeout(()=>{const t=this.colGroup();if(!t)return;const e=t.children.reduce((n,o)=>(n=n+parseInt(o.formats()[B.blotName].width,10),n),0);this.domNode.style.width="".concat(e,"px")},0)}cells(t){return this.rows().map(e=>e.children.at(t))}colGroup(){return this.children.head}deleteColumns(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const[o]=this.descendants(V);if(o==null||o.children.head==null)return;const l=this.descendants(U),d=[],b=[];if(l.forEach(x=>{const T=m(x.domNode.getBoundingClientRect(),n);T.x+M>t.x&&T.x1-M<t.x1?d.push(x):T.x<t.x+M&&T.x1>t.x1-M&&b.push(x)}),d.length===l.length)return this.tableDestroy(),!0;e.forEach(x=>{this.colGroup().children.at(e[0]).remove()}),d.forEach(x=>{x.remove()}),b.forEach(x=>{const T=parseInt(x.formats().colspan,10);parseInt(x.formats().width,10),x.format("colspan",T-e.length)}),this.updateTableWidth()}deleteRow(t,e){const[n]=this.descendants(V);if(n==null||n.children.head==null)return;const o=this.descendants(U),l=this.descendants(Y),d=[],b=[],x=[],T=l.filter(I=>{const H=m(I.domNode.getBoundingClientRect(),e);return H.y>t.y-M&&H.y1<t.y1+M});if(o.forEach(I=>{const H=m(I.domNode.getBoundingClientRect(),e);H.y>t.y-M&&H.y1<t.y1+M?d.push(I):H.y<t.y+M&&H.y1>t.y1-M&&(b.push(I),Math.abs(H.y-t.y)<M&&x.push(I))}),d.length===o.length){this.tableDestroy();return}const O=this.rows().reduce((I,H)=>{let R=m(H.domNode.getBoundingClientRect(),e);return R.y>t.y-M&&R.y1<t.y1+M&&(I+=1),I},0);x.forEach(I=>{const H=m(I.domNode.getBoundingClientRect(),e),R=I.parent.next,F=R.children.reduce((ot,G)=>{const dt=m(G.domNode.getBoundingClientRect(),e);return Math.abs(H.x1-dt.x)<M&&(ot=G),ot},null);R.insertBefore(I,F),I.format("row",R.formats().row)}),d.forEach(I=>{I.remove()}),b.forEach(I=>{const H=parseInt(I.formats().rowspan,10);I.format("rowspan",H-O)}),T.forEach(I=>I.remove())}tableDestroy(){const t=i.a.find(this.scroll.domNode.parentNode),e=t.getModule("better-table");this.remove(),e.hideTableTools(),t.update(i.a.sources.USER)}insertCell(t,e){const n=D(),o=t.formats().row,l=this.scroll.create(U.blotName,Object.assign({},W,{row:o})),d=this.scroll.create(j.blotName,{row:o,cell:n});l.appendChild(d),e?t.insertBefore(l,e):t.appendChild(l)}insertColumn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=arguments.length>3?arguments[3]:void 0;const[l]=this.descendants(V),[d]=this.descendants(u),b=this.descendants(B);let x=[],T=[],O=[];if(l==null||l.children.head==null)return;this.descendants(U).forEach($=>{const F=m($.domNode.getBoundingClientRect(),o);n?Math.abs(F.x1-t.x1)<M?x.push($):t.x1-F.x>M&&t.x1-F.x1<-M&&T.push($):Math.abs(F.x-t.x)<M?x.push($):t.x-F.x>M&&t.x-F.x1<-M&&T.push($)}),x.forEach($=>{const F=n?$.next:$,ot=D(),G=$.parent,dt=G.formats().row,Bt=$.formats(),Gt=this.scroll.create(U.blotName,Object.assign({},W,{row:dt,rowspan:Bt.rowspan})),Oe=this.scroll.create(j.blotName,{row:dt,cell:ot,rowspan:Bt.rowspan});Gt.appendChild(Oe),F?G.insertBefore(Gt,F):G.appendChild(Gt),O.push(Gt)});const H=this.scroll.create(B.blotName,!0);let R=n?b[e].next:b[e];return R?d.insertBefore(H,R):d.appendChild(H),T.forEach($=>{const F=$.formats().colspan;$.format("colspan",parseInt(F,10)+1),O.push($)}),O.sort(($,F)=>{let ot=$.domNode.getBoundingClientRect().y,G=F.domNode.getBoundingClientRect().y;return ot-G}),this.updateTableWidth(),O}insertRow(t,e,n){const[o]=this.descendants(V);if(o==null||o.children.head==null)return;const l=this.descendants(U),d=C(),b=this.scroll.create(Y.blotName,{row:d});let x=[],T=[],O=[];l.forEach(R=>{const $=m(R.domNode.getBoundingClientRect(),n);e?Math.abs($.y1-t.y1)<M?x.push(R):t.y1-$.y>M&&t.y1-$.y1<-M&&T.push(R):Math.abs($.y-t.y)<M?x.push(R):t.y-$.y>M&&t.y-$.y1<-M&&T.push(R)});const I=(R,$)=>{let F=R.domNode.getBoundingClientRect().x,ot=$.domNode.getBoundingClientRect().x;return F-ot};x.sort(I),x.forEach(R=>{const $=D(),F=R.formats(),ot=this.scroll.create(U.blotName,Object.assign({},W,{row:d,colspan:F.colspan})),G=this.scroll.create(j.blotName,{row:d,cell:$,colspan:F.colspan}),dt=this.scroll.create(S.blotName);G.appendChild(dt),ot.appendChild(G),b.appendChild(ot),O.push(ot)}),T.forEach(R=>{const $=parseInt(R.formats().rowspan,10);R.format("rowspan",$+1),O.push(R)});const H=this.rows().find(R=>{let $=m(R.domNode.getBoundingClientRect(),n);return e?Math.abs($.y-t.y-t.height)<M:Math.abs($.y-t.y)<M});return o.insertBefore(b,H),O.sort(I),O}mergeCells(t,e,n,o,l){const d=e.reduce((T,O,I)=>(I!==0?(T&&O.moveChildren(T),O.remove()):(O.format("colspan",o),O.format("rowspan",n),T=O),T),null);let b=d.domNode.getAttribute("data-row"),x=d.children.head.domNode.getAttribute("data-cell");return d.children.forEach(T=>{T.format("cell",x),T.format("row",b),T.format("colspan",o),T.format("rowspan",n)}),d}unmergeCells(t,e){let n={},o=1,l=1;t.forEach(d=>{if(n=d.formats(),o=n.rowspan,l=n.colspan,l>1){let b=d.next,x=d.row();d.format("colspan",1);for(let T=l;T>1;T--)this.insertCell(x,b)}if(o>1){let b=o,x=d.row().next;for(;b>1;){let T=x.children.reduce((O,I)=>{let H=m(d.domNode.getBoundingClientRect(),e),R=m(I.domNode.getBoundingClientRect(),e);return Math.abs(H.x1-R.x)<M&&(O=I),O},null);for(let O=l;O>0;O--)this.insertCell(x,T);b-=1,x=x.next}d.format("rowspan",1)}})}rows(){const t=this.children.tail;return t==null?[]:t.children.map(e=>e)}}r.blotName="table-container",r.className="quill-better-table",r.tagName="TABLE";class c extends q{constructor(t,e){super(t,e);const n=i.a.find(t.domNode.parentNode);e.addEventListener("scroll",o=>{const l=n.getModule("better-table");l.columnTool&&(l.columnTool.domNode.scrollLeft=o.target.scrollLeft),l.tableSelection&&l.tableSelection.selectedTds.length>0&&l.tableSelection.repositionHelpLines()},!1)}table(){return this.children.head}}c.blotName="table-view",c.className="quill-better-table-wrapper",c.tagName="DIV",c.allowedChildren=[r],r.requiredContainer=c,r.allowedChildren=[V,u],V.requiredContainer=r,V.allowedChildren=[Y],Y.requiredContainer=V,Y.allowedChildren=[U],U.requiredContainer=Y,U.allowedChildren=[j,ht],j.requiredContainer=U,u.allowedChildren=[B],u.requiredContainer=r,B.requiredContainer=u;function C(){const h=Math.random().toString(36).slice(2,6);return"row-".concat(h)}function D(){const h=Math.random().toString(36).slice(2,6);return"cell-".concat(h)}const A="#0589f3",ct=["left","right","top","bottom"],Q=2;class pt{constructor(t,e,n){if(!t)return null;this.table=t,this.quill=e,this.options=n,this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}helpLinesInitial(){let t=this.quill.root.parentNode;ct.forEach(e=>{this[e]=document.createElement("div"),this[e].classList.add("qlbt-selection-line"),this[e].classList.add("qlbt-selection-line-"+e),w(this[e],{position:"absolute",display:"none","background-color":A}),t.appendChild(this[e])})}mouseDownHandler(t){if(t.button!==0||!t.target.closest(".quill-better-table"))return;this.quill.root.addEventListener("mousemove",l,!1),this.quill.root.addEventListener("mouseup",d,!1);const e=this,n=t.target.closest("td[data-row]"),o=m(n.getBoundingClientRect(),this.quill.root.parentNode);this.dragging=!0,this.boundary=bt(o,o),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines();function l(b){if(b.button!==0||!b.target.closest(".quill-better-table"))return;const x=b.target.closest("td[data-row]"),T=m(x.getBoundingClientRect(),e.quill.root.parentNode);e.boundary=bt(o,T),e.correctBoundary(),e.selectedTds=e.computeSelectedTds(),e.repositionHelpLines(),n!==x&&e.quill.blur()}function d(b){e.quill.root.removeEventListener("mousemove",l,!1),e.quill.root.removeEventListener("mouseup",d,!1),e.dragging=!1}}correctBoundary(){i.a.find(this.table).descendants(U).forEach(n=>{let{x:o,y:l,width:d,height:b}=m(n.domNode.getBoundingClientRect(),this.quill.root.parentNode);(o+Q>=this.boundary.x&&o+Q<=this.boundary.x1||o-Q+d>=this.boundary.x&&o-Q+d<=this.boundary.x1)&&(l+Q>=this.boundary.y&&l+Q<=this.boundary.y1||l-Q+b>=this.boundary.y&&l-Q+b<=this.boundary.y1)&&(this.boundary=bt(this.boundary,{x:o,y:l,width:d,height:b}))})}computeSelectedTds(){return i.a.find(this.table).descendants(U).reduce((n,o)=>{let{x:l,y:d,width:b,height:x}=m(o.domNode.getBoundingClientRect(),this.quill.root.parentNode);return l+Q>=this.boundary.x&&l-Q+b<=this.boundary.x1&&d+Q>=this.boundary.y&&d-Q+x<=this.boundary.y1&&n.push(o),n},[])}repositionHelpLines(){const t=this.table.parentNode.scrollLeft;w(this.left,{display:"block",left:"".concat(this.boundary.x-t-1,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),w(this.right,{display:"block",left:"".concat(this.boundary.x1-t,"px"),top:"".concat(this.boundary.y,"px"),height:"".concat(this.boundary.height+1,"px"),width:"1px"}),w(this.top,{display:"block",left:"".concat(this.boundary.x-1-t,"px"),top:"".concat(this.boundary.y,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"}),w(this.bottom,{display:"block",left:"".concat(this.boundary.x-1-t,"px"),top:"".concat(this.boundary.y1+1,"px"),width:"".concat(this.boundary.width+1,"px"),height:"1px"})}refreshHelpLinesPosition(){const t=m(this.selectedTds[0].domNode.getBoundingClientRect(),this.quill.root.parentNode),e=m(this.selectedTds[this.selectedTds.length-1].domNode.getBoundingClientRect(),this.quill.root.parentNode);this.boundary=bt(t,e),this.repositionHelpLines()}destroy(){return ct.forEach(t=>{this[t].remove(),this[t]=null}),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}setSelection(t,e){this.boundary=bt(m(t,this.quill.root.parentNode),m(e,this.quill.root.parentNode)),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}clearSelection(){this.boundary={},this.selectedTds=[],ct.forEach(t=>{this[t]&&w(this[t],{display:"none"})})}}function bt(h,t){let e=Math.min(h.x,t.x,h.x+h.width-1,t.x+t.width-1),n=Math.max(h.x,t.x,h.x+h.width-1,t.x+t.width-1),o=Math.min(h.y,t.y,h.y+h.height-1,t.y+t.height-1),l=Math.max(h.y,t.y,h.y+h.height-1,t.y+t.height-1),d=n-e,b=l-o;return{x:e,x1:n,y:o,y1:l,width:d,height:b}}var yt=a(1),Vt=a.n(yt),St=a(2),tt=a.n(St),Tt=a(3),Ut=a.n(Tt),Pt=a(4),Ot=a.n(Pt),Mt=a(5),xt=a.n(Mt),jt=a(6),Ft=a.n(jt),Kt=a(7),qt=a.n(Kt),Lt=a(8),vt=a.n(Lt),mt=a(9),_t=a.n(mt);const Dt=150,et=200,at=5,gt=["white","red","yellow","blue"],Ct="Background Colors",It={insertColumnRight:{text:"Insert column right",iconSrc:Vt.a,handler(){const h=i.a.find(this.table);let t=At(this.columnToolCells,this.boundary,(n,o)=>Math.abs(n.x+n.width-o.x1)<=at,this.quill.root.parentNode);const e=h.insertColumn(this.boundary,t,!0,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(i.a.sources.USER),this.quill.setSelection(this.quill.getIndex(e[0]),0,i.a.sources.SILENT),this.tableSelection.setSelection(e[0].domNode.getBoundingClientRect(),e[0].domNode.getBoundingClientRect())}},insertColumnLeft:{text:"Insert column left",iconSrc:tt.a,handler(){const h=i.a.find(this.table);let t=At(this.columnToolCells,this.boundary,(n,o)=>Math.abs(n.x-o.x)<=at,this.quill.root.parentNode);const e=h.insertColumn(this.boundary,t,!1,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update(i.a.sources.USER),this.quill.setSelection(this.quill.getIndex(e[0]),0,i.a.sources.SILENT),this.tableSelection.setSelection(e[0].domNode.getBoundingClientRect(),e[0].domNode.getBoundingClientRect())}},insertRowUp:{text:"Insert row up",iconSrc:Ut.a,handler(){const t=i.a.find(this.table).insertRow(this.boundary,!1,this.quill.root.parentNode);this.quill.update(i.a.sources.USER),this.quill.setSelection(this.quill.getIndex(t[0]),0,i.a.sources.SILENT),this.tableSelection.setSelection(t[0].domNode.getBoundingClientRect(),t[0].domNode.getBoundingClientRect())}},insertRowDown:{text:"Insert row down",iconSrc:Ot.a,handler(){const t=i.a.find(this.table).insertRow(this.boundary,!0,this.quill.root.parentNode);this.quill.update(i.a.sources.USER),this.quill.setSelection(this.quill.getIndex(t[0]),0,i.a.sources.SILENT),this.tableSelection.setSelection(t[0].domNode.getBoundingClientRect(),t[0].domNode.getBoundingClientRect())}},mergeCells:{text:"Merge selected cells",iconSrc:xt.a,handler(){const h=i.a.find(this.table),t=h.rows().reduce((o,l)=>{let d=m(l.domNode.getBoundingClientRect(),this.quill.root.parentNode);return d.y>this.boundary.y-at&&d.y+d.height<this.boundary.y+this.boundary.height+at&&(o+=1),o},0),e=this.columnToolCells.reduce((o,l)=>{let d=m(l.getBoundingClientRect(),this.quill.root.parentNode);return d.x>this.boundary.x-at&&d.x+d.width<this.boundary.x+this.boundary.width+at&&(o+=1),o},0),n=h.mergeCells(this.boundary,this.selectedTds,t,e,this.quill.root.parentNode);this.quill.update(i.a.sources.USER),this.tableSelection.setSelection(n.domNode.getBoundingClientRect(),n.domNode.getBoundingClientRect())}},unmergeCells:{text:"Unmerge cells",iconSrc:Ft.a,handler(){i.a.find(this.table).unmergeCells(this.selectedTds,this.quill.root.parentNode),this.quill.update(i.a.sources.USER),this.tableSelection.clearSelection()}},deleteColumn:{text:"Delete selected columns",iconSrc:qt.a,handler(){const h=i.a.find(this.table);let t=Ht(this.columnToolCells,this.boundary,(n,o)=>n.x+at>o.x&&n.x+n.width-at<o.x1,this.quill.root.parentNode);h.deleteColumns(this.boundary,t,this.quill.root.parentNode)||(this.tableColumnTool.updateToolCells(),this.quill.update(i.a.sources.USER),this.tableSelection.clearSelection())}},deleteRow:{text:"Delete selected rows",iconSrc:vt.a,handler(){i.a.find(this.table).deleteRow(this.boundary,this.quill.root.parentNode),this.quill.update(i.a.sources.USER),this.tableSelection.clearSelection()}},deleteTable:{text:"Delete table",iconSrc:_t.a,handler(){const h=this.quill.getModule("better-table"),t=i.a.find(this.table);h.hideTableTools(),t.remove(),this.quill.update(i.a.sources.USER)}}};class wt{constructor(t,e,n){const o=e.getModule("better-table");this.tableSelection=o.tableSelection,this.table=t.table,this.quill=e,this.options=n,this.menuItems=Object.assign({},It,n.items),this.tableColumnTool=o.columnTool,this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.columnToolCells=this.tableColumnTool.colToolCells(),this.colorSubTitle=n.color&&n.color.text?n.color.text:Ct,this.cellColors=n.color&&n.color.colors?n.color.colors:gt,this.menuInitial(t),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}mount(){document.body.appendChild(this.domNode)}destroy(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}menuInitial(t){let{table:e,left:n,top:o}=t;this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-operation-menu"),w(this.domNode,{position:"absolute",left:"".concat(n,"px"),top:"".concat(o,"px"),"min-height":"".concat(Dt,"px"),width:"".concat(et,"px")});for(let b in this.menuItems)this.menuItems[b]&&(this.domNode.appendChild(this.menuItemCreator(Object.assign({},It[b],this.menuItems[b]))),["insertRowDown","unmergeCells"].indexOf(b)>-1&&this.domNode.appendChild(l()));this.options.color&&this.options.color!==!1&&(this.domNode.appendChild(l()),this.domNode.appendChild(d(this.colorSubTitle)),this.domNode.appendChild(this.colorsItemCreator(this.cellColors)));function l(){const b=document.createElement("div");return b.classList.add("qlbt-operation-menu-dividing"),b}function d(b){const x=document.createElement("div");return x.classList.add("qlbt-operation-menu-subtitle"),x.innerText=b,x}}colorsItemCreator(t){const e=this,n=document.createElement("div");n.classList.add("qlbt-operation-color-picker"),t.forEach(l=>{let d=o(l);n.appendChild(d)});function o(l){const d=document.createElement("div");return d.classList.add("qlbt-operation-color-picker-item"),d.setAttribute("data-color",l),d.style.backgroundColor=l,d.addEventListener("click",function(){const b=e.tableSelection.selectedTds;b&&b.length>0&&b.forEach(x=>{x.format("cell-bg",l)})},!1),d}return n}menuItemCreator(t){let{text:e,iconSrc:n,handler:o}=t;const l=document.createElement("div");l.classList.add("qlbt-operation-menu-item");const d=document.createElement("span");d.classList.add("qlbt-operation-menu-icon"),d.innerHTML=n;const b=document.createElement("span");return b.classList.add("qlbt-operation-menu-text"),b.innerText=e,l.appendChild(d),l.appendChild(b),l.addEventListener("click",o.bind(this),!1),l}}function At(h,t,e,n){return h.reduce((o,l)=>{let d=m(l.getBoundingClientRect(),n);return e(d,t)&&(o=h.indexOf(l)),o},!1)}function Ht(h,t,e,n){return h.reduce((o,l)=>{let d=m(l.getBoundingClientRect(),n);return e(d,t)&&o.push(h.indexOf(l)),o},[])}const it=i.a.import("delta");function kt(h,t,e){const n=h.parentNode,o=n.parentNode.tagName==="TABLE"?n.parentNode:n.parentNode.parentNode,l=Array.from(o.querySelectorAll("tr")),d=Array.from(n.querySelectorAll("td")),b=l.indexOf(n)+1,x=d.indexOf(h)+1,T=h.getAttribute("colspan")||!1,O=h.getAttribute("rowspan")||!1,I=h.getAttribute("data-cell-bg")||h.style.backgroundColor;return t.length()===0?(t=new it().insert(`
`,{"table-cell-line":{row:b,cell:x,rowspan:O,colspan:T}}),t):(t=t.reduce((H,R)=>{if(R.insert&&typeof R.insert=="string"){const $=[];let F=R.insert,ot=0;for(let dt=0;dt<R.insert.length;dt++)F.charAt(dt)===`
`&&(dt===0||$.push(F.substring(ot,dt)),$.push(`
`),ot=dt+1);const G=F.substring(ot);G&&$.push(G),$.forEach(dt=>{dt===`
`?H.insert(`
`,R.attributes):H.insert(dt,P(R.attributes,["table","table-cell-line"]))})}else H.insert(R.insert,R.attributes);return H},new it),t.reduce((H,R)=>(R.insert&&typeof R.insert=="string"&&R.insert.startsWith(`
`)?H.insert(R.insert,Object.assign({},Object.assign({},{row:b},R.attributes.table),{"table-cell-line":{row:b,cell:x,rowspan:O,colspan:T,"cell-bg":I}},P(R.attributes,["table"]))):R.attributes&&R.attributes.background&&R.attributes.background===nt(I)?H.insert(R.insert,Object.assign({},P(R.attributes,["table","table-cell-line","background"]))):H.insert(R.insert,Object.assign({},P(R.attributes,["table","table-cell-line"]))),H),new it))}function Wt(h,t,e){const n=h.parentNode,o=n.parentNode.tagName==="TABLE"?n.parentNode:n.parentNode.parentNode,l=Array.from(o.querySelectorAll("tr")),d=Array.from(n.querySelectorAll("th")),b=l.indexOf(n)+1,x=d.indexOf(h)+1,T=h.getAttribute("colspan")||!1,O=h.getAttribute("rowspan")||!1;return t.length()===0?(t=new it().insert(`
`,{"table-cell-line":{row:b,cell:x,rowspan:O,colspan:T}}),t):(t=t.reduce((I,H)=>{if(H.insert&&typeof H.insert=="string"){const R=[];let $=H.insert,F=0;for(let G=0;G<H.insert.length;G++)$.charAt(G)===`
`&&(G===0||R.push($.substring(F,G)),R.push(`
`),F=G+1);const ot=$.substring(F);ot&&R.push(ot),R.indexOf(`
`)<0&&R.push(`
`),R.forEach(G=>{G===`
`?I.insert(`
`,{"table-cell-line":{row:b,cell:x,rowspan:O,colspan:T}}):I.insert(G,H.attributes)})}else I.insert(H.insert,H.attributes);return I},new it),t.reduce((I,H)=>(H.insert&&typeof H.insert=="string"&&H.insert.startsWith(`
`)?I.insert(H.insert,Object.assign({},{"table-cell-line":{row:b,cell:x,rowspan:O,colspan:T}})):I.insert(H.insert,Object.assign({},P(H.attributes,["table","table-cell-line"]))),I),new it))}function Ne(h,t,e){let n=new it;const o=h.querySelector("tr");if(o===null)return n;const d=Array.from(o.querySelectorAll("td")).concat(Array.from(o.querySelectorAll("th"))).reduce((x,T)=>{const O=T.getAttribute("colspan")||1;return x=x+parseInt(O,10),x},0),b=h.querySelectorAll("col").length;if(b===d)return t;{for(let T=0;T<d-b;T++)n.insert(`
`,{"table-col":!0});if(b===0)return n.concat(t);let x=0;return t.reduce((T,O)=>(T.insert(O.insert,O.attributes),O.attributes&&O.attributes["table-col"]&&(x+=O.insert.length,x===b&&(T=T.concat(n))),T),new it)}}const Te=i.a.import("core/module"),Ae=i.a.import("delta");class se extends Te{static register(){i.a.register(B,!0),i.a.register(u,!0),i.a.register(j,!0),i.a.register(U,!0),i.a.register(Y,!0),i.a.register(V,!0),i.a.register(r,!0),i.a.register(c,!0),i.a.register(c,!0)}constructor(t,e){super(t,e),this.quill.root.addEventListener("click",o=>{const l=K(o);if(!l||l.length<=0)return;const d=l.filter(b=>b.tagName&&b.tagName.toUpperCase()==="TABLE"&&b.classList.contains("quill-better-table"))[0];if(d){if(this.table===d)return;this.table&&this.hideTableTools(),this.showTableTools(d,t,e)}else this.table&&this.hideTableTools()},!1),this.quill.root.addEventListener("contextmenu",o=>{if(!this.table)return!0;o.preventDefault();const l=K(o);if(!l||l.length<=0)return;const d=l.filter(O=>O.tagName&&O.tagName.toUpperCase()==="TABLE"&&O.classList.contains("quill-better-table"))[0],b=l.filter(O=>O.tagName&&O.tagName.toUpperCase()==="TR"&&O.getAttribute("data-row"))[0],x=l.filter(O=>O.tagName&&O.tagName.toUpperCase()==="TD"&&O.getAttribute("data-row"))[0];let T=this.tableSelection.selectedTds.map(O=>O.domNode).includes(x);(this.tableSelection.selectedTds.length<=0||!T)&&this.tableSelection.setSelection(x.getBoundingClientRect(),x.getBoundingClientRect()),this.tableOperationMenu&&(this.tableOperationMenu=this.tableOperationMenu.destroy()),d&&(this.tableOperationMenu=new wt({table:d,row:b,cell:x,left:o.pageX,top:o.pageY},t,e.operationMenu))},!1),t.getModule("keyboard"),t.keyboard.addBinding({key:"Backspace"},{},function(o,l){if(o.index===0||this.quill.getLength()<=1)return!0;const[d]=this.quill.getLine(o.index);if(l.offset===0){const[b]=this.quill.getLine(o.index-1);if(b!=null&&b.statics.blotName==="table-cell-line"&&d.statics.blotName!=="table-cell-line")return!1}return!0});let n=t.keyboard.bindings.Backspace.pop();t.keyboard.bindings.Backspace.splice(0,1,n),t.clipboard.addMatcher("td",kt),t.clipboard.addMatcher("th",Wt),t.clipboard.addMatcher("table",Ne),t.clipboard.matchers=t.clipboard.matchers.filter(o=>o[0]!=="tr")}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==j.blotName)return[null,null,null,-1];const o=e.tableCell(),l=o.row();return[l.table(),l,o,n]}insertTable(t,e){const n=this.quill.getSelection(!0);if(n==null)return;let o=this.quill.getLeaf(n.index)[0],l=new Ae().retain(n.index);if(ae(o)){console.warn("Can not insert table into a table cell.");return}l.insert(`
`),l=new Array(e).fill(`
`).reduce((d,b)=>(d.insert(b,{"table-col":!0}),d),l),l=new Array(t).fill(0).reduce(d=>{let b=C();return new Array(e).fill(`
`).reduce((x,T)=>(x.insert(T,{"table-cell-line":{row:b,cell:D()}}),x),d)},l),this.quill.updateContents(l,i.a.sources.USER),this.quill.setSelection(n.index+e+1,i.a.sources.API)}showTableTools(t,e,n){this.table=t,this.columnTool=new lt(t,e,n),this.tableSelection=new pt(t,e,n)}hideTableTools(){this.columnTool&&this.columnTool.destroy(),this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.columnTool=null,this.tableSelection=null,this.tableOperationMenu=null,this.table=null}}se.keyboardBindings={"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler(h,t){const[e,n]=this.quill.getLine(h.index);return!(!e.prev||e.prev.statics.blotName!=="table-cell-line")}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler(){}},"table-cell-line enter":{key:"Enter",shiftKey:null,format:["table-cell-line"],handler(h,t){if(this.quill.selection&&this.quill.selection.composing)return;const e=i.a.imports.parchment.Scope;h.length>0&&this.quill.scroll.deleteAt(h.index,h.length);const n=Object.keys(t.format).reduce((o,l)=>(this.quill.scroll.query(l,e.BLOCK)&&!Array.isArray(t.format[l])&&(o[l]=t.format[l]),o),{});this.quill.insertText(h.index,`
`,n["table-cell-line"],i.a.sources.USER),this.quill.setSelection(h.index+1,i.a.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(o=>{n[o]==null&&(Array.isArray(t.format[o])||o!=="link"&&this.quill.format(o,t.format[o],i.a.sources.USER))})}},"table-cell-line up":le(!0),"table-cell-line down":le(!1),"down-to-table":{key:"ArrowDown",collapsed:!0,handler(h,t){const e=t.line.next;if(e&&e.statics.blotName==="table-view"){const o=e.table().rows()[0].children.head.children.head;return this.quill.setSelection(o.offset(this.quill.scroll),0,i.a.sources.USER),!1}return!0}},"up-to-table":{key:"ArrowUp",collapsed:!0,handler(h,t){const e=t.line.prev;if(e&&e.statics.blotName==="table-view"){const n=e.table().rows(),l=n[n.length-1].children.head.children.head;return this.quill.setSelection(l.offset(this.quill.scroll),0,i.a.sources.USER),!1}return!0}}};function le(h){return{key:h?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler(t,e){const n=h?"prev":"next";if(e.line[n]!=null)return!0;const l=e.line.parent,d=l.parent[n];if(d!=null&&d.statics.blotName==="table-row"){let b=d.children.head,x=parseInt(b.formats().colspan,10),T=l,O=parseInt(T.formats().colspan,10);for(;T.prev!=null;)T=T.prev,O+=parseInt(T.formats().colspan,10);for(;b.next!=null&&x<O;)b=b.next,x+=parseInt(b.formats().colspan,10);const I=b.offset(this.quill.scroll);this.quill.setSelection(I,0,i.a.sources.USER)}else{const b=l.table().parent[n];b!=null&&(h?this.quill.setSelection(b.offset(this.quill.scroll)+b.length()-1,0,i.a.sources.USER):this.quill.setSelection(b.offset(this.quill.scroll),0,i.a.sources.USER))}return!1}}}function Se(h){return h.statics.blotName===U.blotName}function ae(h){return h&&h.parent?Se(h.parent)?!0:ae(h.parent):!1}y.default=se},,function(p,y,a){p.exports=a(10)}]).default})}(re)),re.exports}var Ge=We();const xe=Re(Ge);ie.register("modules/better-table",xe);function Ye(v){const k=document.querySelector(".ql-insertTable");if(!k)return;const g=document.createElement("div");g.className="ql-table-picker",g.style.cssText=`
        position: absolute;
        display: none;
        background: white;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        z-index: 1000;
    `;const p=10,y=10,a=document.createElement("div");a.className="table-grid",a.style.cssText=`
        display: grid;
        grid-template-columns: repeat(${y}, 18px);
        gap: 2px;
        margin-bottom: 8px;
    `;for(let i=0;i<p*y;i++){const w=document.createElement("div");w.className="table-cell",w.style.cssText=`
            width: 18px;
            height: 18px;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
        `,w.dataset.row=Math.floor(i/y),w.dataset.col=i%y,a.appendChild(w)}const s=document.createElement("div");s.className="table-label",s.style.cssText=`
        text-align: center;
        font-size: 12px;
        color: #666;
        padding: 4px 0;
    `,s.textContent="Select table size",g.appendChild(a),g.appendChild(s),k.appendChild(g),a.addEventListener("mouseover",i=>{if(i.target.classList.contains("table-cell")){const w=parseInt(i.target.dataset.row),m=parseInt(i.target.dataset.col);a.querySelectorAll(".table-cell").forEach(K=>{const nt=parseInt(K.dataset.row),X=parseInt(K.dataset.col);nt<=w&&X<=m?(K.style.backgroundColor="#3b82f6",K.style.borderColor="#2563eb"):(K.style.backgroundColor="white",K.style.borderColor="#ddd")}),s.textContent=`${w+1}  ${m+1}`}}),a.addEventListener("click",i=>{if(i.target.classList.contains("table-cell")){const w=parseInt(i.target.dataset.row)+1,m=parseInt(i.target.dataset.col)+1;v.getModule("better-table").insertTable(w,m),g.style.display="none",a.querySelectorAll(".table-cell").forEach(nt=>{nt.style.backgroundColor="white",nt.style.borderColor="#ddd"}),s.textContent="Select table size"}}),k.addEventListener("click",i=>{i.stopPropagation();const w=g.style.display==="block";g.style.display=w?"none":"block"}),document.addEventListener("click",i=>{k.contains(i.target)||(g.style.display="none")})}function Qe(v,k={}){return new Promise((g,p)=>{try{const y=document.querySelector(v);if(!y){p(new Error(`Element ${v} not found`));return}const a=document.createElement("div");a.id=`quill-container-${Date.now()}`,y.style.display="none",y.parentNode.insertBefore(a,y);const s=ie.import("ui/icons");s.bold='<i class="ti ti-bold fs-lg"></i>',s.italic='<i class="ti ti-italic fs-lg"></i>',s.underline='<i class="ti ti-underline fs-lg"></i>',s.strike='<i class="ti ti-strikethrough fs-lg"></i>',s.list='<i class="ti ti-list fs-lg"></i>',s.bullet='<i class="ti ti-list-ul fs-lg"></i>',s.indent='<i class="ti ti-indent-increase fs-lg"></i>',s.outdent='<i class="ti ti-indent-decrease fs-lg"></i>',s.link='<i class="ti ti-link fs-lg"></i>',s.image='<i class="ti ti-photo fs-lg"></i>',s.video='<i class="ti ti-video fs-lg"></i>',s["code-block"]='<i class="ti ti-code fs-lg"></i>',s.clean='<i class="ti ti-trash fs-lg"></i>',s.color='<i class="ti ti-paint fs-lg"></i>',s.background='<i class="ti ti-background fs-lg"></i>',s.script.super='<i class="ti ti-superscript fs-lg"></i>',s.script.sub='<i class="ti ti-subscript fs-lg"></i>',s.blockquote='<i class="ti ti-blockquote fs-lg"></i>',s.align[""]='<i class="ti ti-align-left fs-lg"></i>',s.align.center='<i class="ti ti-align-center fs-lg"></i>',s.align.right='<i class="ti ti-align-right fs-lg"></i>',s.align.justify='<i class="ti ti-align-justified fs-lg"></i>',s.header[1]='<i class="ti ti-h-1 fs-lg"></i>',s.header[2]='<i class="ti ti-h-2 fs-lg"></i>',s.header[3]='<i class="ti ti-h-3 fs-lg"></i>',s.header[""]='<i class="ti ti-letter-t fs-lg"></i>';const i={theme:"snow",modules:{table:!1,"better-table":{operationMenu:{items:{unmergeCells:{text:"Pisahkan Cell"},insertColumnRight:{text:"Sisipkan Kolom Kanan"},insertColumnLeft:{text:"Sisipkan Kolom Kiri"},insertRowUp:{text:"Sisipkan Baris Atas"},insertRowDown:{text:"Sisipkan Baris Bawah"},mergeCells:{text:"Gabung Cell"},deleteColumn:{text:"Hapus Kolom"},deleteRow:{text:"Hapus Baris"},deleteTable:{text:"Hapus Table"}}}},keyboard:{bindings:xe.keyboardBindings},toolbar:{container:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["link","image","video"],["insertTable"],["clean"]],handlers:{insertTable:function(){return!1}}}},placeholder:k.placeholder||"Tulis konten di sini...",...k},w=new ie(a,i),m=document.querySelector(".ql-insertTable");m&&(m.innerHTML='<i class="ti ti-table fs-lg"></i>',m.style.position="relative",setTimeout(()=>{Ye(w)},100));const P=y.value;P&&(w.root.innerHTML=P),w.on("text-change",function(){y.value=w.root.innerHTML}),k.height&&(a.querySelector(".ql-editor").style.minHeight=k.height,a.querySelector(".ql-editor").style.maxHeight=k.height,a.querySelector(".ql-editor").style.overflowY="auto"),console.log("Quill Editor initialized successfully on",v),g(w)}catch(y){console.error("Error initializing Quill Editor:",y),p(y)}})}function ne(v){return v?v.root.innerHTML:""}let Et=null,Nt=null;function Rt(v){if(window.toast&&typeof window.toast.error=="function")return window.toast.error(v);console.warn("Toast error:",v)}function Je(v){if(window.toast&&typeof window.toast.success=="function")return window.toast.success(v);console.log("Toast success:",v)}function Xe(v){return new Promise((k,g)=>{if(document.querySelector(`script[src="${v}"]`))return k();const p=document.createElement("script");p.src=v,p.async=!0,p.onload=()=>k(),p.onerror=()=>g(new Error("Failed to load "+v)),document.head.appendChild(p)})}async function ve(v="#categoriesSelect"){try{if(!document.querySelector(v))return;typeof E().select2!="function"&&await Xe("https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"),typeof E().select2=="function"&&E(v).select2({placeholder:"Pilih kategori...",width:"100%",allowClear:!0})}catch(k){console.warn("Select2 init failed:",k)}}function oe(v){return E(v).length?E(v):null}function Ze(){const v=E("#variantsContainer .variant-row");if(!v.length)return 0;const k=[];return v.each(function(){const p=(E(this).find('input[name*="[variant_name]"], input[name*="[id]"]').first().attr("name")||"").match(/variants\[(\d+)\]/);p&&k.push(parseInt(p[1],10))}),k.length?Math.max(...k)+1:0}function Ce(){E("#variantsContainer .variant-row").each(function(k){E(this).find("[name]").each(function(){const p=E(this),a=p.attr("name").replace(/variants\[\d+\]/,`variants[${k}]`);p.attr("name",a)})})}function Ee(v){return`
<div class="variant-row card p-3 mb-3" data-row-id="${Date.now()}">
  <input type="hidden" name="variants[${v}][id]" value="" />

  <div class="row g-3 align-items-center">
    <!-- IDENTITAS -->
    <div class="col-md-6">
      <label class="form-label">Nama Varian</label>
      <input type="text" name="variants[${v}][variant_name]" class="form-control" />
    </div>

    <div class="col-md-3">
      <label class="form-label">SKU</label>
      <input type="text" name="variants[${v}][sku]" class="form-control" />
    </div>

    <div class="col-md-3">
      <label class="form-label">Harga Jual (IDR)</label>
      <input type="number" name="variants[${v}][price]" class="form-control" min="0" value="0" />
    </div>

    <!-- DIMENSI -->
    <div class="col-md-4">
      <label class="form-label">Panjang (cm)</label>
      <input type="number" step="0.01" name="variants[${v}][length]" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Lebar (cm)</label>
      <input type="number" step="0.01" name="variants[${v}][width]" class="form-control" />
    </div>

    <div class="col-md-4">
      <label class="form-label">Tinggi (cm)</label>
      <input type="number" step="0.01" name="variants[${v}][height]" class="form-control" />
    </div>

    <!-- STATUS & GAMBAR -->
    <div class="col-md-3">
      <label class="form-label">Aktif</label>
      <select name="variants[${v}][is_active]" class="form-select">
        <option value="1" selected>Ya</option>
        <option value="0">Tidak</option>
      </select>
    </div>

    <div class="col-md-3">
      <label class="form-label">Boleh Dijual</label>
      <select name="variants[${v}][is_sellable]" class="form-select">
        <option value="1" selected>Ya</option>
        <option value="0">Tidak</option>
      </select>
    </div>

    <div class="col-md-6 text-end">
      <button type="button" class="btn btn-sm btn-outline-danger btn-remove-variant mt-2">Hapus Varian</button>
    </div>

    <!-- GAMBAR VARIAN -->
    <div class="col-md-6">
      <label class="form-label">Gambar Varian (multiple)</label>
      <input type="file" name="variants[${v}][images][]" accept="image/*" multiple class="form-control" />
    </div>
  </div>
</div>
`}function we(v,k){return document.querySelector(v)?Qe(v,k).then(g=>g).catch(g=>(console.error(`Quill init failed for ${v}:`,g),Rt("Gagal memuat editor"),null)):Promise.resolve(null)}function tn(v,k){const g=oe(v),p=oe(k);!g||!p||(g.on("change",function(y){const a=Array.from(y.target.files||[]);p.empty(),a.forEach(s=>{const i=new FileReader;i.onload=function(w){const m=E(`
                    <div class="position-relative" style="margin-right:8px;">
                        <img src="${w.target.result}" class="image-thumb"/>
                        <button type="button" class="btn btn-sm btn-danger js-remove-local-image" style="position:absolute; right:5px; top:5px;"><i class="ti ti-x"></i></button>
                    </div>`);p.append(m)},i.readAsDataURL(s)})}),E(document).on("click",".js-remove-local-image",function(){E(this).closest("div.position-relative").remove(),Rt("Jika ingin benar-benar membatalkan upload gambar, reload halaman atau hapus file input manual.")}))}function en(){E(document).on("click",".js-delete-image",function(){const v=E(this).data("id");v&&confirm("Hapus gambar ini?")&&E.ajax({url:`/products/images/${v}`,type:"DELETE",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},success(k){k&&k.success?(Je("Gambar dihapus"),location.reload()):Rt("Gagal menghapus gambar")},error(){Rt("Gagal menghapus gambar (server error)")}})})}function nn(){E(".nav-tabs").find("button").attr("type","button"),E(document).on("click","[data-wizard-next], [data-wizard-prev]",function(v){v.preventDefault();const k=E(".nav-tabs .nav-link.active");if(E(this).is("[data-wizard-next]")){const g=k.closest("li").next("li").find(".nav-link");g.length&&g.tab("show")}else{const g=k.closest("li").prev("li").find(".nav-link");g.length&&g.tab("show")}}),E(document).on("click",".nav-tabs a.nav-link",function(v){v.preventDefault(),E(this).tab("show")})}function rn(){const v=oe("#productForm");v&&v.on("submit",function(k){E("#variantsContainer .variant-row").each(function(){const p=E(this),y=(p.find('input[name*="[variant_name]"]').val()||"").trim(),a=(p.find('input[name*="[id]"]').val()||"").trim(),s=p.find('input[type="file"]')[0],i=s&&s.files&&s.files.length>0;!y&&!a&&!i&&p.remove()}),Ce();const g=E('textarea[name="attributes_json"]');if(g.length){const p=g.val();try{const y=p?JSON.parse(p):{};E('input[name="attributes"]').length?E('input[name="attributes"]').val(JSON.stringify(y)):E("<input>").attr({type:"hidden",name:"attributes",value:JSON.stringify(y)}).appendTo("#productForm")}catch{return k.preventDefault(),Rt("Atribut tidak valid JSON"),!1}}return Et&&E("#short_description").val(ne(Et)),Nt&&E("#description").val(ne(Nt)),!0})}function on(){window.serverValidationErrors&&Array.isArray(window.serverValidationErrors)&&window.serverValidationErrors.forEach(v=>Rt(v))}function sn(){E("#btn-add-variant").off("click").on("click",function(v){v.preventDefault();const k=Ze(),g=Ee(k);E("#variantsContainer").append(g),E("html, body").animate({scrollTop:E("#variantsContainer").offset().top+E("#variantsContainer").height()},300)}),E(document).on("click",".btn-remove-variant",function(v){v.preventDefault(),E(this).closest(".variant-row").remove(),Ce()})}E(function(){we("#short_description",{height:"300px",placeholder:"Tulis konten Anda di sini..."}).then(s=>Et=s),we("#description",{height:"300px",placeholder:"Tulis konten Anda di sini..."}).then(s=>Nt=s),nn(),ve("#categoriesSelect"),ve("#unitSelect"),sn(),tn("#productImagesInput","#imagePreview"),en(),rn(),on();function v(s){return s==null?"":E("<div>").text(String(s)).html()}function k(s){if(s===null||s===""||typeof s>"u")return"-";const i=parseInt(s,10);return isNaN(i)?"-":"Rp "+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}function g(){const s=E("#variantsContainer .variant-row");if(!s.length)return'<p class="text-muted small mb-0">Belum ada varian.</p>';let i='<div class="table-responsive"><table class="table table-sm mb-0"><thead><tr><th>#</th><th>Nama Varian</th><th>SKU</th><th>Harga</th><th>Dimensi (PLT cm)</th><th>Status</th></tr></thead><tbody>';return s.each(function(w){const m=E(this),P=m.find('input[name*="[variant_name]"]').val()||"-",K=m.find('input[name*="[sku]"]').val()||"-",nt=m.find('input[name*="[price]"]').val(),X=m.find('input[name*="[length]"]').val()||"-",st=m.find('input[name*="[width]"]').val()||"-",rt=m.find('input[name*="[height]"]').val()||"-",ft=m.find('select[name*="[is_active]"]').val(),lt=m.find('select[name*="[is_sellable]"]').val();i+="<tr>",i+=`<td>${w+1}</td>`,i+=`<td>${v(P)}</td>`,i+=`<td>${v(K)}</td>`,i+=`<td>${v(k(nt))}</td>`,i+=`<td>${v(X)}  ${v(st)}  ${v(rt)}</td>`,i+=`<td>${ft=="1"?"Aktif":"Non-aktif"}${lt=="0"?"  Tidak Dijual":""}</td>`,i+="</tr>"}),i+="</tbody></table></div>",i}function p(){const s=E("#imagePreview"),i=[];if(s.find("img").each(function(){i.push(E(this).attr("src"))}),!i.length)return'<p class="text-muted small mb-0">Belum ada gambar.</p>';let w="";return i.forEach(m=>{const P=v(m);w+=`<div style="width:120px;height:120px;overflow:hidden;border-radius:6px;border:1px solid #eef2f6;margin-right:8px;"><img src="${P}" style="width:100%;height:100%;object-fit:cover;"></div>`}),w}function y(){const s=E('input[name="name"]').val()||"",i=E('input[name="sku"]').val()||"-",w=(()=>{const st=E("#unitSelect");if(st.length){const rt=st.find("option:selected").text();return rt?rt.trim():"-"}return"-"})(),m=E('input[name="weight_gram"]').val()||"-";let P="-";const K=E("#categoriesSelect");if(K.length){const st=K.find("option:selected").map(function(){return E(this).text().trim()}).get();st.length&&(P=st.map(rt=>`<span class="badge bg-light text-dark me-1">${v(rt)}</span>`).join(" "))}const nt=typeof Et<"u"&&Et?ne(Et):E("#short_description").val()||"",X=typeof Nt<"u"&&Nt?ne(Nt):E("#description").val()||"";E("#review_name").html(v(s)||"-"),E("#review_sku").html(v(i)||"-"),E("#review_unit").html(v(w)||"-"),E("#review_categories").html(P),E("#review_weight").html(v(m)!==""?v(m+" gr"):"-"),E("#review_short_description").html(nt||'<span class="text-muted small">-</span>'),E("#review_description").html(X||'<span class="text-muted small">-</span>'),E("#review_variants").html(g()),E("#review_images").html(p())}function a(){E(document).on("shown.bs.tab",'a[data-bs-toggle="tab"]',function(w){const m=E(w.target).attr("href")||E(w.target).data("bs-target");m&&m==="#tabPublish"&&y()}),E("[data-wizard-next]").on("click",function(){const m=E(".nav-tabs .nav-link.active").closest("li").next("li").find(".nav-link");m.length&&m.attr("href")==="#tabPublish"&&y()});let s=null;function i(){clearTimeout(s),s=setTimeout(y,250)}E(document).on("input change",'input[name="name"], input[name="sku"], input[name="weight_gram"], #unitSelect, #categoriesSelect',i),E(document).on("input change","#variantsContainer",i),E(document).on("click",".btn-remove-variant, #btn-add-variant",function(){setTimeout(y,150)}),E(document).on("change","#productImagesInput",i),E(document).on("click",".js-remove-local-image, .js-delete-image",function(){setTimeout(y,200)}),Et&&Et.on("text-change",i),Nt&&Nt.on("text-change",i)}E(function(){try{a()}catch(s){console.warn("bindReviewTriggers error",s)}}),E("#variantsContainer .variant-row").length||E("#variantsContainer").append(Ee(0))});
