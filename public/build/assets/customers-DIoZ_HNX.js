import{$ as e}from"./jquery-DxCMfk7S.js";import{D as s}from"./dataTables.bootstrap5-SLVZVhPx.js";import"./responsive.bootstrap5-CO5iH43l.js";import{s as c}from"./delete-modal-helper-Dt6JVILi.js";import{i}from"./tooltip-helper-B_gzMSQw.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./jquery-BQXThELV.js";import"./bootstrap-BTbS0qBz.js";import"./index-BEKk9TLb.js";e(function(){const r=new s("#customers-table",{processing:!0,serverSide:!0,responsive:!0,ajax:window.customerRoutes.index,columns:[{data:"DT_RowIndex",orderable:!1,searchable:!1},{data:"code"},{data:"name"},{data:"phone"},{data:"is_active",orderable:!1,searchable:!1},{data:"created_at"},{data:"action",orderable:!1,searchable:!1,className:"text-center"}],drawCallback:function(){var o;i(document.querySelector("#customers-table"));try{(o=window.lucide)!=null&&o.replace&&window.lucide.replace()}catch{}}});e(document).on("click",".js-delete-customer",function(){c({modalId:"deleteCustomerModal",formId:"deleteCustomerForm",id:e(this).data("id"),name:e(this).data("name"),route:window.customerRoutes.destroy})}),e(document).on("click",".js-toggle-active",function(){const o=e(this).data("id");e.ajax({url:window.customerRoutes.toggleActive.replace(":id",o),type:"POST",data:{_method:"PUT",_token:document.querySelector('meta[name="csrf-token"]').getAttribute("content")},success:function(a){var t;a.success&&((t=window.toast)!=null&&t.success&&window.toast.success("Status customer diperbarui"),r.ajax.reload(null,!1))},error:function(a){var t;console.error(a.responseText),(t=window.toast)!=null&&t.error&&window.toast.error("Gagal mengubah status customer")}})})});
