class l{constructor(t='input[type="password"]',e="strong-bar",s="password-bar",r="password-input",o={}){this.inputSelector=t,this.barClass=e,this.meterWrapperClass=s,this.passwordBoxId=r}init(){this.initProgressBar(),this.initPasswordBox()}initProgressBar(){const t=document.querySelectorAll(this.inputSelector);t&&t.length>0&&t.forEach(e=>{const s=e.nextElementSibling;if(!s||!s.classList.contains(this.meterWrapperClass))return;s.innerHTML="";for(let o=0;o<4;o++){const i=document.createElement("div");i.classList.add(this.barClass),s.appendChild(i)}const r=s.querySelectorAll(`.${this.barClass}`);e.addEventListener("input",()=>{const o=e.value,i=this.getPasswordScore(o);r.forEach(n=>n.className=this.barClass),r.forEach((n,a)=>{a<i&&n.classList.add(`bar-active-${i}`)})})})}getPasswordScore(t){let e=0;return t.length>=8&&e++,/[A-Z]/.test(t)&&e++,/\d/.test(t)&&e++,/[\W_]/.test(t)&&e++,e}initPasswordBox(){const t=document.getElementById(this.passwordBoxId),e=document.querySelector(".password-box"),s={lower:document.getElementById("pass-lower"),upper:document.getElementById("pass-upper"),number:document.getElementById("pass-number"),length:document.getElementById("pass-length")};if(!t||!e||!Object.values(s).every(Boolean))return;let r=null;try{r=new bootstrap.Collapse(e,{toggle:!1})}catch(o){console.warn("Bootstrap Collapse not available:",o)}t.addEventListener("focus",()=>r==null?void 0:r.show()),t.addEventListener("blur",()=>{t.value.length||r==null||r.hide()}),t.addEventListener("keyup",()=>{const o=t.value;this.toggleValidity(s.lower,/[a-z]/.test(o)),this.toggleValidity(s.upper,/[A-Z]/.test(o)),this.toggleValidity(s.number,/[0-9]/.test(o)),this.toggleValidity(s.length,o.length>=8)})}toggleValidity(t,e){t.classList.toggle("valid",e),t.classList.toggle("invalid",!e)}}document.addEventListener("DOMContentLoaded",()=>{new l().init()});
