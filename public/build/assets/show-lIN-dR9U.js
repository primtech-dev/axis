import{$ as s}from"./jquery-DxCMfk7S.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./jquery-BQXThELV.js";s(function(){const e=document.getElementById("btnToggleActive");e&&e.addEventListener("click",function(o){if(o.preventDefault(),!window.customerToggleRoute){console.error("customerToggleRoute not set.");return}confirm("Yakin ingin mengubah status aktif pelanggan ini?")&&fetch(window.customerToggleRoute,{method:"PUT",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content"),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({})}).then(async t=>{const n=await t.json().catch(()=>({}));if(!t.ok)throw n;return n}).then(t=>{const n=document.getElementById("customerStatusText");n&&(n.textContent=t.is_active?"Aktif":"Non-aktif"),t.is_active?(e.textContent="Non-aktifkan",e.classList.remove("btn-outline-success"),e.classList.add("btn-outline-danger")):(e.textContent="Aktifkan",e.classList.remove("btn-outline-danger"),e.classList.add("btn-outline-success")),window.toast&&window.toast.success(t.message||"Status diperbarui")}).catch(t=>{console.error("Toggle active error",t);const n=t&&t.message?t.message:"Gagal mengubah status pelanggan";window.toast&&window.toast.error(n),alert(n)})})});
