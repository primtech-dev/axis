import{$ as i}from"./jquery-DxCMfk7S.js";import{i as c}from"./choices-helper-DdZc0wPI.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./jquery-BQXThELV.js";import"./choices-BgrVbzTe.js";function t(e){window.toast&&typeof window.toast.error=="function"?window.toast.error(e):console.warn("Toast not available:",e)}i(function(){try{const r=document.querySelector('select[name="roles[]"]');r&&c(r,{removeItems:!0,placeholderValue:"Pilih role"});const n=document.querySelector('select[name="branch_id"]');n&&c(n,{shouldSort:!1,placeholderValue:"Pilih branch (opsional)"})}catch(r){console.warn("Choices init failed:",r)}const e=i("#userForm"),s=e.find('input[name="name"]'),l=e.find('input[name="email"]'),o=e.find('input[name="password"]'),f=e.find('input[name="password_confirmation"]');e.on("submit",function(r){const n=s.val().trim(),m=l.val().trim();if(!n)return r.preventDefault(),t("Nama harus diisi."),s.focus(),!1;if(!m)return r.preventDefault(),t("Email harus diisi."),l.focus(),!1;if(o.length&&o.val()){if(o.val().length<6)return r.preventDefault(),t("Password minimal 6 karakter."),o.focus(),!1;if(o.val()!==f.val())return r.preventDefault(),t("Password dan konfirmasi tidak cocok."),f.focus(),!1}const a=i(this).find('button[type="submit"]').first();return a.prop("disabled",!0),a.data("orig-html",a.html()),a.html('<span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span> Menyimpan...'),!0}),typeof window.serverValidationErrors<"u"&&Array.isArray(window.serverValidationErrors)&&window.serverValidationErrors.forEach(r=>t(r))});
