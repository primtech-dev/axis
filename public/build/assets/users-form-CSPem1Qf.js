$(function(){if(!document.getElementById("userForm"))return;const i=document.getElementById("roleSelect");let n=null;i&&window.TomSelect&&(n=new TomSelect(i,{maxItems:1,placeholder:"Pilih role",allowEmptyOption:!0,create:!1}));const s=$('input[name="name"]'),l=$('input[name="email"]'),a=$('input[name="password"]'),o=$('input[name="password_confirmation"]');function e(r){var t;(t=window.toast)!=null&&t.error?window.toast.error(r):alert(r)}$("#userForm").on("submit",function(r){if(!s.val().trim()){r.preventDefault(),e("Nama harus diisi.");return}if(!l.val().trim()){r.preventDefault(),e("Email harus diisi.");return}if(n&&!n.getValue()){r.preventDefault(),e("Role wajib dipilih."),n.focus();return}const t=a.val().trim(),m=o.val().trim();if(t!==""){if(t.length<6)return r.preventDefault(),e("Password minimal 6 karakter."),a.focus(),!1;if(t!==m)return r.preventDefault(),e("Password dan konfirmasi tidak cocok."),o.focus(),!1}if(a.val()!==o.val()){r.preventDefault(),e("Password dan konfirmasi tidak cocok.");return}$(this).find('button[type="submit"]').first().prop("disabled",!0).html('<span class="spinner-border spinner-border-sm me-1"></span> Menyimpan...')}),Array.isArray(window.serverValidationErrors)&&window.serverValidationErrors.forEach(r=>e(r))});
