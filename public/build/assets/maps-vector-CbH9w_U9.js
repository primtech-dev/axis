import{d as K,i as E}from"./app-DYjphZ-B.js";import"./jquery-DxCMfk7S.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./jquery-BQXThELV.js";import"./bootstrap-BTbS0qBz.js";import"./index-BEKk9TLb.js";import"./isObjectLike-mqpIr8Ea.js";var Z=function(r){return Q(r)&&!J(r)};function Q(t){return!!t&&typeof t=="object"}function J(t){var r=Object.prototype.toString.call(t);return r==="[object RegExp]"||r==="[object Date]"||re(t)||ie(t)}var ee=typeof Symbol=="function"&&Symbol.for,te=ee?Symbol.for("react.element"):60103;function ie(t){return t.$$typeof===te}function re(t){return t instanceof Node}function ae(t){return Array.isArray(t)?[]:{}}function O(t,r){return r.clone!==!1&&r.isMergeableObject(t)?T(ae(t),t,r):t}function se(t,r,i){return t.concat(r).map(function(e){return O(e,i)})}function ne(t,r){if(!r.customMerge)return T;var i=r.customMerge(t);return typeof i=="function"?i:T}function oe(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(r){return t.propertyIsEnumerable(r)}):[]}function V(t){return Object.keys(t).concat(oe(t))}function N(t,r){try{return r in t}catch{return!1}}function le(t,r){return N(t,r)&&!(Object.hasOwnProperty.call(t,r)&&Object.propertyIsEnumerable.call(t,r))}function he(t,r,i){var e={};return i.isMergeableObject(t)&&V(t).forEach(function(a){e[a]=O(t[a],i)}),V(r).forEach(function(a){le(t,a)||(N(t,a)&&i.isMergeableObject(r[a])?e[a]=ne(a,i)(t[a],r[a],i):e[a]=O(r[a],i))}),e}var T=function(r,i,e){e=e||{},e.arrayMerge=e.arrayMerge||se,e.isMergeableObject=e.isMergeableObject||Z,e.cloneUnlessOtherwiseSpecified=O;var a=Array.isArray(i),s=Array.isArray(r),n=a===s;return n?a?e.arrayMerge(r,i,e):he(r,i,e):O(i,e)},U=function(r){return typeof r=="object"&&typeof r.nodeType<"u"?r:typeof r=="string"?document.querySelector(r):null},b=function(r,i,e,a){a===void 0&&(a=!1);var s=document.createElement(r);return e&&(s[a?"innerHTML":"textContent"]=e),i&&(s.className=i),s},ce=function(r,i){return Element.prototype.querySelector.call(r,i)},j=function(r){r.parentNode.removeChild(r)},ue=function(r){return/\.(jpg|gif|png)$/.test(r)},fe=function(r){return r.replace(/[\w]([A-Z])/g,function(i){return i[0]+"-"+i[1]}).toLowerCase()},v=function(r,i,e){return e===void 0&&(e=!1),e?T(r,i):Object.assign(r,i)},C=function(r,i){return r.toLowerCase()+":to:"+i.toLowerCase()},B=function(r,i){Object.assign(r.prototype,i)},x={},de=1,p={on:function(r,i,e,a){a===void 0&&(a={});var s="jvm:"+i+"::"+de++;x[s]={selector:r,handler:e},e._uid=s,r.addEventListener(i,e,a)},delegate:function(r,i,e,a){i=i.split(" "),i.forEach(function(s){p.on(r,s,function(n){var o=n.target;o.matches(e)&&a.call(o,n)})})},off:function(r,i,e){var a=i.split(":")[1];r.removeEventListener(a,e),delete x[e._uid]},flush:function(){Object.keys(x).forEach(function(r){p.off(x[r].selector,r,x[r].handler)})},getEventRegistry:function(){return x}};function pe(){var t=this,r=this,i=!1,e,a;this.params.draggable&&(p.on(this.container,"mousemove",function(s){if(!i)return!1;r.transX-=(e-s.pageX)/r.scale,r.transY-=(a-s.pageY)/r.scale,r._applyTransform(),e=s.pageX,a=s.pageY}),p.on(this.container,"mousedown",function(s){return i=!0,e=s.pageX,a=s.pageY,!1}),p.on(document.body,"mouseup",function(){i=!1})),this.params.zoomOnScroll&&p.on(this.container,"wheel",function(s){var n=((s.deltaY||-s.wheelDelta||s.detail)>>10||1)*75,o=t.container.getBoundingClientRect(),l=s.pageX-o.left-window.scrollX,u=s.pageY-o.top-window.scrollY,c=Math.pow(1+r.params.zoomOnScrollSpeed/1e3,-1.5*n);r.tooltip&&r._tooltip.hide(),r._setScale(r.scale*c,l,u),s.preventDefault()})}var g={onLoaded:"map:loaded",onViewportChange:"viewport:changed",onRegionClick:"region:clicked",onMarkerClick:"marker:clicked",onRegionSelected:"region:selected",onMarkerSelected:"marker:selected",onRegionTooltipShow:"region.tooltip:show",onMarkerTooltipShow:"marker.tooltip:show",onDestroyed:"map:destroyed"},z=function(r,i,e){var a=U(i),s=a.getAttribute("class").indexOf("jvm-region")===-1?"marker":"region",n=s==="region",o=n?a.getAttribute("data-code"):a.getAttribute("data-index"),l=n?g.onRegionSelected:g.onMarkerSelected;return e&&(l=n?g.onRegionTooltipShow:g.onMarkerTooltipShow),{type:s,code:o,event:l,element:n?r.regions[o].element:r._markers[o].element,tooltipText:n?r._mapData.paths[o].name||"":r._markers[o].config.name||""}};function me(){var t=this,r=this.container,i,e,a;p.on(r,"mousemove",function(s){Math.abs(i-s.pageX)+Math.abs(e-s.pageY)>2&&(a=!0)}),p.delegate(r,"mousedown",".jvm-element",function(s){i=s.pageX,e=s.pageY,a=!1}),p.delegate(r,"mouseover mouseout",".jvm-element",function(s){var n=z(t,this,!0),o=t.params.showTooltip;s.type==="mouseover"?(n.element.hover(!0),o&&(t._tooltip.text(n.tooltipText),t._emit(n.event,[s,t._tooltip,n.code]),s.defaultPrevented||t._tooltip.show())):(n.element.hover(!1),o&&t._tooltip.hide())}),p.delegate(r,"mouseup",".jvm-element",function(s){var n=z(t,this);if(!a&&(n.type==="region"&&t.params.regionsSelectable||n.type==="marker"&&t.params.markersSelectable)){var o=n.element;t.params[n.type+"sSelectableOne"]&&(n.type==="region"?t.clearSelectedRegions():t.clearSelectedMarkers()),n.element.isSelected?o.select(!1):o.select(!0),t._emit(n.event,[n.code,o.isSelected,n.type==="region"?t.getSelectedRegions():t.getSelectedMarkers()])}}),p.delegate(r,"click",".jvm-element",function(s){var n=z(t,this),o=n.type,l=n.code;t._emit(o==="region"?g.onRegionClick:g.onMarkerClick,[s,l])})}function ve(){var t=this,r=this.params.zoomInButton,i=this.params.zoomOutButton,e=function(l){return typeof l=="string"?document.querySelector(l):l},a=r?e(r):b("div","jvm-zoom-btn jvm-zoomin","&#43;",!0),s=i?e(i):b("div","jvm-zoom-btn jvm-zoomout","&#x2212",!0);r||this.container.appendChild(a),i||this.container.appendChild(s);var n=function(l){return l===void 0&&(l=!0),function(){return t._setScale(l?t.scale*t.params.zoomStep:t.scale/t.params.zoomStep,t._width/2,t._height/2,!1,t.params.zoomAnimate)}};p.on(a,"click",n()),p.on(s,"click",n(!1))}function ge(){var t=this,r,i,e,a,s,n,o,l=function(c){var h=c.touches,f,d,m,w;if(c.type=="touchstart"&&(o=0),h.length==1){if(o==1){var _;m=t.transX,w=t.transY,t.transX-=(e-h[0].pageX)/t.scale,t.transY-=(a-h[0].pageY)/t.scale,(_=t._tooltip)==null||_.hide(),t._applyTransform(),(m!=t.transX||w!=t.transY)&&c.preventDefault()}e=h[0].pageX,a=h[0].pageY}else if(h.length==2)if(o==2){var y;d=Math.sqrt(Math.pow(h[0].pageX-h[1].pageX,2)+Math.pow(h[0].pageY-h[1].pageY,2))/i,t._setScale(r*d,s,n),(y=t._tooltip)==null||y.hide(),c.preventDefault()}else{var D=t.container.getBoundingClientRect();f={top:D.top+window.scrollY,left:D.left+window.scrollX},h[0].pageX>h[1].pageX?s=h[1].pageX+(h[0].pageX-h[1].pageX)/2:s=h[0].pageX+(h[1].pageX-h[0].pageX)/2,h[0].pageY>h[1].pageY?n=h[1].pageY+(h[0].pageY-h[1].pageY)/2:n=h[0].pageY+(h[1].pageY-h[0].pageY)/2,s-=f.left,n-=f.top,r=t.scale,i=Math.sqrt(Math.pow(h[0].pageX-h[1].pageX,2)+Math.pow(h[0].pageY-h[1].pageY,2))}o=h.length};p.on(t.container,"touchstart",l),p.on(t.container,"touchmove",l)}function G(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,e=Array(r);i<r;i++)e[i]=t[i];return e}function _e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ye(t,r){for(var i=0;i<r.length;i++){var e=r[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,we(e.key),e)}}function be(t,r,i){return i&&ye(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Se(t,r){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=ke(t))||r){i&&(t=i);var e=0;return function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(){return P=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var e in i)({}).hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t},P.apply(null,arguments)}function M(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,I(t,r)}function H(t,r){if(t==null)return{};var i={};for(var e in t)if({}.hasOwnProperty.call(t,e)){if(r.indexOf(e)!==-1)continue;i[e]=t[e]}return i}function I(t,r){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,e){return i.__proto__=e,i},I(t,r)}function Me(t,r){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var e=i.call(t,r);if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function we(t){var r=Me(t,"string");return typeof r=="symbol"?r:r+""}function ke(t,r){if(t){if(typeof t=="string")return G(t,r);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?G(t,r):void 0}}var X=function(){function t(){}var r=t.prototype;return r.dispose=function(){this._tooltip?j(this._tooltip):this.shape.remove();for(var e=Se(Object.getOwnPropertyNames(this)),a;!(a=e()).done;){var s=a.value;this[s]=null}},t}(),W={getLabelText:function(r,i){if(i){if(typeof i.render=="function"){var e=[];return this.constructor.Name==="marker"&&e.push(this.getConfig()),e.push(r),i.render.apply(this,e)}return r}},getLabelOffsets:function(r,i){return typeof i.offsets=="function"?i.offsets(r):Array.isArray(i.offsets)?i.offsets[r]:[0,0]},setStyle:function(r,i){this.shape.setStyle(r,i)},remove:function(){this.shape.remove(),this.label&&this.label.remove()},hover:function(r){this._setStatus("isHovered",r)},select:function(r){this._setStatus("isSelected",r)},_setStatus:function(r,i){this.shape[r]=i,this.shape.updateStyle(),this[r]=i,this.label&&(this.label[r]=i,this.label.updateStyle())}},F=function(t){function r(e){var a,s=e.map,n=e.code,o=e.path,l=e.style,u=e.label,c=e.labelStyle,h=e.labelsGroup;a=t.call(this)||this,a._map=s,a.shape=a._createRegion(o,n,l);var f=a.getLabelText(n,u);if(u&&f){var d=a.shape.getBBox(),m=a.getLabelOffsets(n,u);a.labelX=d.x+d.width/2+m[0],a.labelY=d.y+d.height/2+m[1],a.label=a._map.canvas.createText({text:f,textAnchor:"middle",alignmentBaseline:"central",dataCode:n,x:a.labelX,y:a.labelY},c,h),a.label.addClass("jvm-region jvm-element")}return a}M(r,t);var i=r.prototype;return i._createRegion=function(a,s,n){return a=this._map.canvas.createPath({d:a,dataCode:s},n),a.addClass("jvm-region jvm-element"),a},i.updateLabelPosition=function(){this.label&&this.label.set({x:this.labelX*this._map.scale+this._map.transX*this._map.scale,y:this.labelY*this._map.scale+this._map.transY*this._map.scale})},r}(X);B(F,W);function Ee(){this._regionLabelsGroup=this._regionLabelsGroup||this.canvas.createGroup("jvm-regions-labels-group");for(var t in this._mapData.paths){var r=new F({map:this,code:t,path:this._mapData.paths[t].path,style:v({},this.params.regionStyle),labelStyle:this.params.regionLabelStyle,labelsGroup:this._regionLabelsGroup,label:this.params.labels&&this.params.labels.regions});this.regions[t]={config:this._mapData.paths[t],element:r}}}var xe="jvm-line",Le=function(t){function r(e,a){var s;return s=t.call(this)||this,s._options=e,s._style={initial:a},s._draw(),s}M(r,t);var i=r.prototype;return i.setStyle=function(a,s){this.shape.setStyle(a,s)},i.getConfig=function(){return this._options.config},i._draw=function(){var a=this._options,s=a.index,n=a.group,o=a.map,l={d:this._getDAttribute(),fill:"none",dataIndex:s};this.shape=o.canvas.createPath(l,this._style,n),this.shape.addClass(xe)},i._getDAttribute=function(){var a=this._options,s=a.x1,n=a.y1,o=a.x2,l=a.y2,u=a.curvature;return"M"+s+","+n+this._getQCommand(s,n,o,l,u)+o+","+l},i._getQCommand=function(a,s,n,o,l){if(!l)return" ";var u=(a+n)/2+l*(o-s),c=(s+o)/2-l*(n-a);return" Q"+u+","+c+" "},r}(X),Ae=["curvature"],Oe=["curvature"];function Ce(t){var r=!1,i=!1,e=this.params.lineStyle,a=e.curvature,s=H(e,Ae);for(var n in t){for(var o=t[n],l=0,u=Object.values(this._markers);l<u.length;l++){var c=u[l].config;c.name===o.from&&(r=this.getMarkerPosition(c)),c.name===o.to&&(i=this.getMarkerPosition(c))}if(r!==!1&&i!==!1){var h=o.style||{},f=h.curvature,d=H(h,Oe);this._lines[C(o.from,o.to)]=new Le({index:n,map:this,group:this._linesGroup,config:o,x1:r.x,y1:r.y,x2:i.x,y2:i.y,curvature:f==0?0:f||a},v(s,d,!0))}}}var Te="marker",R="jvm-",je=R+"element "+R+"marker",Re=R+"element "+R+"label",q=function(t){function r(e,a){var s;return s=t.call(this)||this,s._options=e,s._style=a,s._labelX=null,s._labelY=null,s._offsets=null,s._isImage=!!a.initial.image,s._draw(),s._options.label&&s._drawLabel(),s._isImage&&s.updateLabelPosition(),s}M(r,t);var i=r.prototype;return i.getConfig=function(){return this._options.config},i.updateLabelPosition=function(){var a=this._options.map;this.label&&this.label.set({x:this._labelX*a.scale+this._offsets[0]+a.transX*a.scale+5+(this._isImage?(this.shape.width||0)/2:this.shape.node.r.baseVal.value),y:this._labelY*a.scale+a.transY*this._options.map.scale+this._offsets[1]})},i._draw=function(){var a=this._options,s=a.index,n=a.map,o=a.group,l=a.cx,u=a.cy,c=this._isImage?"createImage":"createCircle";this.shape=n.canvas[c]({dataIndex:s,cx:l,cy:u},this._style,o),this.shape.addClass(je)},i._drawLabel=function(){var a=this._options,s=a.index,n=a.map,o=a.label,l=a.labelsGroup,u=a.cx,c=a.cy,h=a.config,f=a.isRecentlyCreated,d=this.getLabelText(s,o);this._labelX=u/n.scale-n.transX,this._labelY=c/n.scale-n.transY,this._offsets=f&&h.offsets?h.offsets:this.getLabelOffsets(s,o),this.label=n.canvas.createText({text:d,dataIndex:s,x:this._labelX,y:this._labelY,dy:"0.6ex"},n.params.markerLabelStyle,l),this.label.addClass(Re),f&&this.updateLabelPosition()},be(r,null,[{key:"Name",get:function(){return Te}}])}(X);B(q,W);function Xe(t,r){var i=this;t===void 0&&(t={}),r===void 0&&(r=!1);var e=function(){var o=t[s],l=i.getMarkerPosition(o),u=o.coords.join(":");if(!l)return 0;if(r){if(Object.keys(i._markers).filter(function(h){return i._markers[h]._uid===u}).length)return 0;s=Object.keys(i._markers).length}var c=new q({index:s,map:i,label:i.params.labels&&i.params.labels.markers,labelsGroup:i._markerLabelsGroup,cx:l.x,cy:l.y,group:i._markersGroup,config:o,isRecentlyCreated:r},v(i.params.markerStyle,P({},o.style||{}),!0));i._markers[s]&&i.removeMarkers([s]),i._markers[s]={_uid:u,config:o,element:c}},a;for(var s in t)a=e()}var Ye=function(){function t(i){i===void 0&&(i={}),this._options=i,this._map=this._options.map,this._series=this._options.series,this._body=b("div","jvm-legend"),this._options.cssClass&&this._body.setAttribute("class",this._options.cssClass),i.vertical?this._map.legendVertical.appendChild(this._body):this._map.legendHorizontal.appendChild(this._body),this.render()}var r=t.prototype;return r.render=function(){var e=this._series.scale.getTicks();if(this._body.innderHTML="",this._options.title){var a=b("div","jvm-legend-title",this._options.title);this._body.appendChild(a)}for(var s=0;s<e.length;s++){var n=b("div","jvm-legend-tick"),o=b("div","jvm-legend-tick-sample");switch(this._series.config.attribute){case"fill":ue(e[s].value)?o.style.background="url("+e[s].value+")":o.style.background=e[s].value;break;case"stroke":o.style.background=e[s].value;break;case"image":o.style.background="url("+(typeof e[s].value=="object"?e[s].value.url:e[s].value)+") no-repeat center center",o.style.backgroundSize="cover";break}n.appendChild(o);var l=e[s].label;this._options.labelRender&&(l=this._options.labelRender(l));var u=b("div","jvm-legend-tick-text",l);n.appendChild(u),this._body.appendChild(n)}},t}(),ze=function(){function t(i){this._scale=i}var r=t.prototype;return r.getValue=function(e){return this._scale[e]},r.getTicks=function(){var e=[];for(var a in this._scale)e.push({label:a,value:this._scale[a]});return e},t}(),Pe=function(){function t(i,e,a){i===void 0&&(i={}),this._map=a,this._elements=e,this._values=i.values||{},this.config=i,this.config.attribute=i.attribute||"fill",i.attributes&&this.setAttributes(i.attributes),typeof i.scale=="object"&&(this.scale=new ze(i.scale)),this.config.legend&&(this.legend=new Ye(v({map:this._map,series:this},this.config.legend))),this.setValues(this._values)}var r=t.prototype;return r.setValues=function(e){var a={};for(var s in e)e[s]&&(a[s]=this.scale.getValue(e[s]));this.setAttributes(a)},r.setAttributes=function(e){for(var a in e)this._elements[a]&&this._elements[a].element.setStyle(this.config.attribute,e[a])},r.clear=function(){var e,a={};for(e in this._values)this._elements[e]&&(a[e]=this._elements[e].element.shape.style.initial[this.config.attribute]);this.setAttributes(a),this._values={}},t}();function Ie(){this.series={markers:[],regions:[]};for(var t in this.params.series)for(var r=0;r<this.params.series[t].length;r++)this.series[t][r]=new Pe(this.params.series[t][r],t==="markers"?this._markers:this.regions,this)}function De(){var t,r,i,e;this._defaultWidth*this.scale<=this._width?(t=(this._width-this._defaultWidth*this.scale)/(2*this.scale),i=(this._width-this._defaultWidth*this.scale)/(2*this.scale)):(t=0,i=(this._width-this._defaultWidth*this.scale)/this.scale),this._defaultHeight*this.scale<=this._height?(r=(this._height-this._defaultHeight*this.scale)/(2*this.scale),e=(this._height-this._defaultHeight*this.scale)/(2*this.scale)):(r=0,e=(this._height-this._defaultHeight*this.scale)/this.scale),this.transY>r?this.transY=r:this.transY<e&&(this.transY=e),this.transX>t?this.transX=t:this.transX<i&&(this.transX=i),this.canvas.applyTransformParams(this.scale,this.transX,this.transY),this._markers&&this._repositionMarkers(),this._lines&&this._repositionLines(),this._repositionLabels()}function Ve(){var t=this._baseScale;this._width/this._height>this._defaultWidth/this._defaultHeight?(this._baseScale=this._height/this._defaultHeight,this._baseTransX=Math.abs(this._width-this._defaultWidth*this._baseScale)/(2*this._baseScale)):(this._baseScale=this._width/this._defaultWidth,this._baseTransY=Math.abs(this._height-this._defaultHeight*this._baseScale)/(2*this._baseScale)),this.scale*=this._baseScale/t,this.transX*=this._baseScale/t,this.transY*=this._baseScale/t}function Ge(t,r,i,e,a){var s=this,n,o,l=0,u=Math.abs(Math.round((t-this.scale)*60/Math.max(t,this.scale))),c,h,f,d,m,w,_,y;t>this.params.zoomMax*this._baseScale?t=this.params.zoomMax*this._baseScale:t<this.params.zoomMin*this._baseScale&&(t=this.params.zoomMin*this._baseScale),typeof r<"u"&&typeof i<"u"&&(n=t/this.scale,e?(_=r+this._defaultWidth*(this._width/(this._defaultWidth*t))/2,y=i+this._defaultHeight*(this._height/(this._defaultHeight*t))/2):(_=this.transX-(n-1)/t*r,y=this.transY-(n-1)/t*i)),a&&u>0?(c=this.scale,h=(t-c)/u,f=this.transX*this.scale,m=this.transY*this.scale,d=(_*t-f)/u,w=(y*t-m)/u,o=setInterval(function(){l+=1,s.scale=c+h*l,s.transX=(f+d*l)/s.scale,s.transY=(m+w*l)/s.scale,s._applyTransform(),l==u&&(clearInterval(o),s._emit(g.onViewportChange,[s.scale,s.transX,s.transY]))},10)):(this.transX=_,this.transY=y,this.scale=t,this._applyTransform(),this._emit(g.onViewportChange,[this.scale,this.transX,this.transY]))}function He(t){var r=this;t===void 0&&(t={});var i,e=[];if(t.region?e.push(t.region):t.regions&&(e=t.regions),e.length)return e.forEach(function(o){if(r.regions[o]){var l=r.regions[o].element.shape.getBBox();l&&(typeof i>"u"?i=l:i={x:Math.min(i.x,l.x),y:Math.min(i.y,l.y),width:Math.max(i.x+i.width,l.x+l.width)-Math.min(i.x,l.x),height:Math.max(i.y+i.height,l.y+l.height)-Math.min(i.y,l.y)})}}),this._setScale(Math.min(this._width/i.width,this._height/i.height),-(i.x+i.width/2),-(i.y+i.height/2),!0,t.animate);if(t.coords){var a=this.coordsToPoint(t.coords[0],t.coords[1]),s=this.transX-a.x/this.scale,n=this.transY-a.y/this.scale;return this._setScale(t.scale*this._baseScale,s,n,!0,t.animate)}}function Ne(){this._width=this.container.offsetWidth,this._height=this.container.offsetHeight,this._resize(),this.canvas.setSize(this._width,this._height),this._applyTransform()}var Y={mill:function(r,i,e){return{x:this.radius*(i-e)*this.radDeg,y:-this.radius*Math.log(Math.tan((45+.4*r)*this.radDeg))/.8}},merc:function(r,i,e){return{x:this.radius*(i-e)*this.radDeg,y:-this.radius*Math.log(Math.tan(Math.PI/4+r*Math.PI/360))}},aea:function(r,i,e){var a=0,s=e*this.radDeg,n=29.5*this.radDeg,o=45.5*this.radDeg,l=r*this.radDeg,u=i*this.radDeg,c=(Math.sin(n)+Math.sin(o))/2,h=Math.cos(n)*Math.cos(n)+2*c*Math.sin(n),f=c*(u-s),d=Math.sqrt(h-2*c*Math.sin(l))/c,m=Math.sqrt(h-2*c*Math.sin(a))/c;return{x:d*Math.sin(f)*this.radius,y:-(m-d*Math.cos(f))*this.radius}},lcc:function(r,i,e){var a=0,s=e*this.radDeg,n=i*this.radDeg,o=33*this.radDeg,l=45*this.radDeg,u=r*this.radDeg,c=Math.log(Math.cos(o)*(1/Math.cos(l)))/Math.log(Math.tan(Math.PI/4+l/2)*(1/Math.tan(Math.PI/4+o/2))),h=Math.cos(o)*Math.pow(Math.tan(Math.PI/4+o/2),c)/c,f=h*Math.pow(1/Math.tan(Math.PI/4+u/2),c),d=h*Math.pow(1/Math.tan(Math.PI/4+a/2),c);return{x:f*Math.sin(c*(n-s))*this.radius,y:-(d-f*Math.cos(c*(n-s)))*this.radius}}};Y.degRad=180/Math.PI;Y.radDeg=Math.PI/180;Y.radius=6381372;function Ue(t,r){var i=S.maps[this.params.map].projection,e=Y[i.type](t,r,i.centralMeridian),a=e.x,s=e.y,n=this.getInsetForPoint(a,s);if(!n)return!1;var o=n.bbox;return a=(a-o[0].x)/(o[1].x-o[0].x)*n.width*this.scale,s=(s-o[0].y)/(o[1].y-o[0].y)*n.height*this.scale,{x:a+this.transX*this.scale+n.left*this.scale,y:s+this.transY*this.scale+n.top*this.scale}}function Be(t,r){for(var i=S.maps[this.params.map].insets,e=0;e<i.length;e++){var a=i[e].bbox,s=a[0],n=a[1];if(t>s.x&&t<n.x&&r>s.y&&r<n.y)return i[e]}}function We(t){var r=t.coords;return S.maps[this.params.map].projection?this.coordsToPoint.apply(this,r):{x:r[0]*this.scale+this.transX*this.scale,y:r[1]*this.scale+this.transY*this.scale}}function Fe(){var t=this,r=this.params.lineStyle.curvature;Object.values(this._lines).forEach(function(i){var e=Object.values(t._markers).find(function(_){var y=_.config;return y.name===i.getConfig().from}),a=Object.values(t._markers).find(function(_){var y=_.config;return y.name===i.getConfig().to});if(e&&a){var s=t.getMarkerPosition(e.config),n=s.x,o=s.y,l=t.getMarkerPosition(a.config),u=l.x,c=l.y,h=i._options.curvature==0?0:i._options.curvature||r,f=(n+u)/2,d=(o+c)/2,m=f+h*(c-o),w=d-h*(u-n);i.setStyle({d:"M"+n+","+o+" Q"+m+","+w+" "+u+","+c})}})}function qe(){for(var t in this._markers){var r=this.getMarkerPosition(this._markers[t].config);r!==!1&&this._markers[t].element.setStyle({cx:r.x,cy:r.y})}}function $e(){var t=this.params.labels;if(t){if(t.regions)for(var r in this.regions)this.regions[r].element.updateLabelPosition();if(t.markers)for(var i in this._markers)this._markers[i].element.updateLabelPosition()}}var Ke={_setupContainerEvents:pe,_setupElementEvents:me,_setupZoomButtons:ve,_setupContainerTouchEvents:ge,_createRegions:Ee,_createLines:Ce,_createMarkers:Xe,_createSeries:Ie,_applyTransform:De,_resize:Ve,_setScale:Ge,setFocus:He,updateSize:Ne,coordsToPoint:Ue,getInsetForPoint:Be,getMarkerPosition:We,_repositionLines:Fe,_repositionMarkers:qe,_repositionLabels:$e},Ze={map:"world",backgroundColor:"transparent",draggable:!0,zoomButtons:!0,zoomOnScroll:!0,zoomOnScrollSpeed:3,zoomMax:12,zoomMin:1,zoomAnimate:!0,showTooltip:!0,zoomStep:1.5,bindTouchEvents:!0,lineStyle:{curvature:0,stroke:"#808080",strokeWidth:1,strokeLinecap:"round"},markersSelectable:!1,markersSelectableOne:!1,markerStyle:{initial:{r:7,fill:"#374151",fillOpacity:1,stroke:"#FFF",strokeWidth:5,strokeOpacity:.5},hover:{fill:"#3cc0ff",cursor:"pointer"},selected:{fill:"blue"},selectedHover:{}},markerLabelStyle:{initial:{fontFamily:"Verdana",fontSize:12,fontWeight:500,cursor:"default",fill:"#374151"},hover:{cursor:"pointer"},selected:{},selectedHover:{}},regionsSelectable:!1,regionsSelectableOne:!1,regionStyle:{initial:{fill:"#dee2e8",fillOpacity:1,stroke:"none",strokeWidth:0},hover:{fillOpacity:.7,cursor:"pointer"},selected:{fill:"#9ca3af"},selectedHover:{}},regionLabelStyle:{initial:{fontFamily:"Verdana",fontSize:"12",fontWeight:"bold",cursor:"default",fill:"#35373e"},hover:{cursor:"pointer"}}},L=function(){function t(i,e){this.node=this._createElement(i),e&&this.set(e)}var r=t.prototype;return r._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},r.addClass=function(e){this.node.setAttribute("class",e)},r.getBBox=function(){return this.node.getBBox()},r.set=function(e,a){if(typeof e=="object")for(var s in e)this.applyAttr(s,e[s]);else this.applyAttr(e,a)},r.get=function(e){return this.style.initial[e]},r.applyAttr=function(e,a){this.node.setAttribute(fe(e),a)},r.remove=function(){j(this.node)},t}(),A=function(t){function r(e,a,s){var n;return s===void 0&&(s={}),n=t.call(this,e,a)||this,n.isHovered=!1,n.isSelected=!1,n.style=s,n.style.current={},n.updateStyle(),n}M(r,t);var i=r.prototype;return i.setStyle=function(a,s){if(typeof a=="object")v(this.style.current,a);else{var n;v(this.style.current,(n={},n[a]=s,n))}this.updateStyle()},i.updateStyle=function(){var a={};v(a,this.style.initial),v(a,this.style.current),this.isHovered&&v(a,this.style.hover),this.isSelected&&(v(a,this.style.selected),this.isHovered&&v(a,this.style.selectedHover)),this.set(a)},r}(L),Qe=function(t){function r(e,a){return t.call(this,"text",e,a)||this}M(r,t);var i=r.prototype;return i.applyAttr=function(a,s){a==="text"?this.node.textContent=s:t.prototype.applyAttr.call(this,a,s)},r}(A),Je=function(t){function r(e,a){return t.call(this,"image",e,a)||this}M(r,t);var i=r.prototype;return i.applyAttr=function(a,s){var n;a==="image"?(typeof s=="object"?(n=s.url,this.offset=s.offset||[0,0]):(n=s,this.offset=[0,0]),this.node.setAttributeNS("http://www.w3.org/1999/xlink","href",n),this.width=23,this.height=23,this.applyAttr("width",this.width),this.applyAttr("height",this.height),this.applyAttr("x",this.cx-this.width/2+this.offset[0]),this.applyAttr("y",this.cy-this.height/2+this.offset[1])):a=="cx"?(this.cx=s,this.width&&this.applyAttr("x",s-this.width/2+this.offset[0])):a=="cy"?(this.cy=s,this.height&&this.applyAttr("y",s-this.height/2+this.offset[1])):t.prototype.applyAttr.apply(this,arguments)},r}(A),et=function(t){function r(e){var a;return a=t.call(this,"svg")||this,a._container=e,a._defsElement=new L("defs"),a._rootElement=new L("g",{id:"jvm-regions-group"}),a.node.appendChild(a._defsElement.node),a.node.appendChild(a._rootElement.node),a._container.appendChild(a.node),a}M(r,t);var i=r.prototype;return i.setSize=function(a,s){this.node.setAttribute("width",a),this.node.setAttribute("height",s)},i.applyTransformParams=function(a,s,n){this._rootElement.node.setAttribute("transform","scale("+a+") translate("+s+", "+n+")")},i.createPath=function(a,s,n){var o=new A("path",a,s);return o.node.setAttribute("fill-rule","evenodd"),this._add(o,n)},i.createCircle=function(a,s,n){var o=new A("circle",a,s);return this._add(o,n)},i.createLine=function(a,s,n){var o=new A("line",a,s);return this._add(o,n)},i.createText=function(a,s,n){var o=new Qe(a,s);return this._add(o,n)},i.createImage=function(a,s,n){var o=new Je(a,s);return this._add(o,n)},i.createGroup=function(a){var s=new L("g");return this.node.appendChild(s.node),a&&(s.node.id=a),s.canvas=this,s},i._add=function(a,s){return s=s||this._rootElement,s.node.appendChild(a.node),a},r}(L),tt=function(t){function r(e){var a;a=t.call(this)||this;var s=b("div","jvm-tooltip");return a._map=e,a._tooltip=document.body.appendChild(s),a._bindEventListeners(),a||_e(a)}M(r,t);var i=r.prototype;return i._bindEventListeners=function(){var a=this;p.on(this._map.container,"mousemove",function(s){if(a._tooltip.classList.contains("active")){var n=ce(a._map.container,"#jvm-regions-group").getBoundingClientRect(),o=5,l=a._tooltip.getBoundingClientRect(),u=l.height,c=l.width,h=s.clientY<=n.top+u+o,f=s.pageY-u-o,d=s.pageX-c-o;h&&(f+=u+o,d-=o*2),s.clientX<n.left+c+o&&(d=s.pageX+o+2,h&&(d+=o*2)),a.css({top:f+"px",left:d+"px"})}})},i.getElement=function(){return this._tooltip},i.show=function(){this._tooltip.classList.add("active")},i.hide=function(){this._tooltip.classList.remove("active")},i.text=function(a,s){s===void 0&&(s=!1);var n=s?"innerHTML":"textContent";if(!a)return this._tooltip[n];this._tooltip[n]=a},i.css=function(a){for(var s in a)this._tooltip.style[s]=a[s];return this},r}(X),it=function(){function t(i,e){var a=i.scale,s=i.values;this._scale=a,this._values=s,this._fromColor=this.hexToRgb(a[0]),this._toColor=this.hexToRgb(a[1]),this._map=e,this.setMinMaxValues(s),this.visualize()}var r=t.prototype;return r.setMinMaxValues=function(e){this.min=Number.MAX_VALUE,this.max=0;for(var a in e)a=parseFloat(e[a]),a>this.max&&(this.max=a),a<this.min&&(this.min=a)},r.visualize=function(){var e={},a;for(var s in this._values)a=parseFloat(this._values[s]),isNaN(a)||(e[s]=this.getValue(a));this.setAttributes(e)},r.setAttributes=function(e){for(var a in e)this._map.regions[a]&&this._map.regions[a].element.setStyle("fill",e[a])},r.getValue=function(e){if(this.min===this.max)return"#"+this._toColor.join("");for(var a,s="#",n=0;n<3;n++)a=Math.round(this._fromColor[n]+(this._toColor[n]-this._fromColor[n])*((e-this.min)/(this.max-this.min))).toString(16),s+=(a.length===1?"0":"")+a;return s},r.hexToRgb=function(e){var a=0,s=0,n=0;return e.length==4?(a="0x"+e[1]+e[1],s="0x"+e[2]+e[2],n="0x"+e[3]+e[3]):e.length==7&&(a="0x"+e[1]+e[2],s="0x"+e[3]+e[4],n="0x"+e[5]+e[6]),[parseInt(a),parseInt(s),parseInt(n)]},t}(),k="jvm-",rt=k+"container",at=k+"markers-group",st=k+"markers-labels-group",nt=k+"lines-group",$=k+"series-container",ot=$+" "+k+"series-h",lt=$+" "+k+"series-v",S=function(){function t(i){var e=this;if(i===void 0&&(i={}),this.params=v(t.defaults,i,!0),!t.maps[this.params.map])throw new Error("Attempt to use map which was not loaded: "+i.map);this.regions={},this.scale=1,this.transX=0,this.transY=0,this._mapData=t.maps[this.params.map],this._markers={},this._lines={},this._defaultWidth=this._mapData.width,this._defaultHeight=this._mapData.height,this._height=0,this._width=0,this._baseScale=1,this._baseTransX=0,this._baseTransY=0,document.readyState!=="loading"?this._init():window.addEventListener("DOMContentLoaded",function(){return e._init()})}var r=t.prototype;return r._init=function(){var e=this.params;this.container=U(e.selector),this.container.classList.add(rt),this.canvas=new et(this.container),this.setBackgroundColor(e.backgroundColor),this._createRegions(),this.updateSize(),e.lines&&(this._linesGroup=this.canvas.createGroup(nt)),e.markers&&(this._markersGroup=this.canvas.createGroup(at),this._markerLabelsGroup=this.canvas.createGroup(st)),this._createMarkers(e.markers),this._createLines(e.lines||{}),this._repositionLabels(),this._setupContainerEvents(),this._setupElementEvents(),e.zoomButtons&&this._setupZoomButtons(),e.showTooltip&&(this._tooltip=new tt(this)),e.selectedRegions&&this._setSelected("regions",e.selectedRegions),e.selectedMarkers&&this._setSelected("_markers",e.selectedMarkers),e.focusOn&&this.setFocus(e.focusOn),e.visualizeData&&(this.dataVisualization=new it(e.visualizeData,this)),e.bindTouchEvents&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&this._setupContainerTouchEvents(),e.series&&(this.container.appendChild(this.legendHorizontal=b("div",ot)),this.container.appendChild(this.legendVertical=b("div",lt)),this._createSeries()),this._emit(g.onLoaded,[this])},r.setBackgroundColor=function(e){this.container.style.backgroundColor=e},r.getSelectedRegions=function(){return this._getSelected("regions")},r.clearSelectedRegions=function(e){var a=this;e===void 0&&(e=void 0),e=this._normalizeRegions(e)||this._getSelected("regions"),e.forEach(function(s){a.regions[s].element.select(!1)})},r.setSelectedRegions=function(e){this.clearSelectedRegions(),this._setSelected("regions",this._normalizeRegions(e))},r.getSelectedMarkers=function(){return this._getSelected("_markers")},r.clearSelectedMarkers=function(){this._clearSelected("_markers")},r.setSelectedMarkers=function(e){this._setSelected("_markers",e)},r.addMarkers=function(e){e=Array.isArray(e)?e:[e],this._createMarkers(e,!0)},r.removeMarkers=function(e){var a=this;e||(e=Object.keys(this._markers)),e.forEach(function(s){a._markers[s].element.remove(),delete a._markers[s]})},r.addLine=function(e,a,s){s===void 0&&(s={}),console.warn("`addLine` method is deprecated, please use `addLines` instead."),this._createLines([{from:e,to:a,style:s}],this._markers,!0)},r.addLines=function(e){var a=this._getLinesAsUids();Array.isArray(e)||(e=[e]),this._createLines(e.filter(function(s){return!(a.indexOf(C(s.from,s.to))>-1)}),!0)},r.removeLines=function(e){var a=this;Array.isArray(e)?e=e.map(function(s){return C(s.from,s.to)}):e=this._getLinesAsUids(),e.forEach(function(s){a._lines[s].dispose(),delete a._lines[s]})},r.removeLine=function(e,a){console.warn("`removeLine` method is deprecated, please use `removeLines` instead.");var s=C(e,a);this._lines.hasOwnProperty(s)&&(this._lines[s].element.remove(),delete this._lines[s])},r.reset=function(){for(var e in this.series)for(var a=0;a<this.series[e].length;a++)this.series[e][a].clear();this.legendHorizontal&&(j(this.legendHorizontal),this.legendHorizontal=null),this.legendVertical&&(j(this.legendVertical),this.legendVertical=null),this.scale=this._baseScale,this.transX=this._baseTransX,this.transY=this._baseTransY,this._applyTransform(),this.clearSelectedMarkers(),this.clearSelectedRegions(),this.removeMarkers()},r.destroy=function(e){var a=this;e===void 0&&(e=!0),p.flush(),this._tooltip.dispose(),this._emit(g.onDestroyed),e&&Object.keys(this).forEach(function(s){try{delete a[s]}catch{}})},r.extend=function(e,a){if(typeof this[e]=="function")throw new Error("The method ["+e+"] does already exist, please use another name.");t.prototype[e]=a},r._emit=function(e,a){for(var s in g)g[s]===e&&typeof this.params[s]=="function"&&this.params[s].apply(this,a)},r._getSelected=function(e){var a=[];for(var s in this[e])this[e][s].element.isSelected&&a.push(s);return a},r._setSelected=function(e,a){var s=this;a.forEach(function(n){s[e][n]&&s[e][n].element.select(!0)})},r._clearSelected=function(e){var a=this;this._getSelected(e).forEach(function(s){a[e][s].element.select(!1)})},r._getLinesAsUids=function(){return Object.keys(this._lines)},r._normalizeRegions=function(e){return typeof e=="string"?[e]:e},t}();S.maps={};S.defaults=Ze;Object.assign(S.prototype,Ke);var ht=function(){function t(r){if(r===void 0&&(r={}),!r.selector)throw new Error("Selector is not given.");return new S(r)}return t.addMap=function(i,e){S.maps[i]=e},t}(),ct=window.jsVectorMap=ht;class ut{init(){this.initWorldMapMarker(),this.initWorldMarkerLine(),this.initIndiaMap(),this.initCanadaMap(),this.initRussiaMap(),this.initUsMap(),this.initIraqMap(),this.initSpainMap()}initVectorMap(r,i={}){let e=null;if(r instanceof Element?e=r:e=document.querySelector(r),e){const a=new ct({selector:e,...i});window.addEventListener("resize",K(()=>{a.updateSize()},200))}}initWorldMapMarker(){this.initVectorMap("#world-map-markers",{map:"world",zoomOnScroll:!1,zoomButtons:!0,markersSelectable:!0,markers:[{name:"Greenland",coords:[72,-42]},{name:"Canada",coords:[56.1304,-106.3468]},{name:"Brazil",coords:[-14.235,-51.9253]},{name:"Egypt",coords:[26.8206,30.8025]},{name:"Russia",coords:[61,105]},{name:"China",coords:[35.8617,104.1954]},{name:"United States",coords:[37.0902,-95.7129]},{name:"Norway",coords:[60.472024,8.468946]},{name:"Ukraine",coords:[48.379433,31.16558]}],markerStyle:{initial:{fill:E("chart-primary")},selected:{fill:E("chart-primary")}},regionStyle:{initial:{strokeWidth:.25,fill:"#cccdcf40",fillOpacity:1}},labels:{markers:{render:r=>r.name}}})}initWorldMarkerLine(){this.initVectorMap("#world-map-markers-line",{map:"world_merc",zoomOnScroll:!1,zoomButtons:!1,markers:[{name:"Greenland",coords:[72,-42]},{name:"Canada",coords:[56.1304,-106.3468]},{name:"Brazil",coords:[-14.235,-51.9253]},{name:"Egypt",coords:[26.8206,30.8025]},{name:"Russia",coords:[61,105]},{name:"China",coords:[35.8617,104.1954]},{name:"United States",coords:[37.0902,-95.7129]},{name:"Norway",coords:[60.472024,8.468946]},{name:"Ukraine",coords:[48.379433,31.16558]}],lines:[{from:"Canada",to:"Egypt"},{from:"Russia",to:"Egypt"},{from:"Greenland",to:"Egypt"},{from:"Brazil",to:"Egypt"},{from:"United States",to:"Egypt"},{from:"China",to:"Egypt"},{from:"Norway",to:"Egypt"},{from:"Ukraine",to:"Egypt"}],regionStyle:{initial:{strokeWidth:.5,fill:"#cccdcf40",fillOpacity:1}},markerStyle:{initial:{fill:E("chart-secondary")},selected:{fill:E("chart-secondary")}},lineStyle:{animation:!0,strokeDasharray:"6 3 6"}})}initUsMap(){this.initVectorMap("#usa-vector-map",{map:"us_aea_en",regionStyle:{initial:{fill:E("primary")}}})}initIndiaMap(){this.initVectorMap("#india-vector-map",{map:"in_mill",backgroundColor:"transparent",regionStyle:{initial:{fill:"#cccdcf40"},selected:{fill:E("primary")}},selectedRegions:["IN-GJ"]})}initCanadaMap(){this.initVectorMap("#canada-vector-map",{map:"canada",zoomOnScroll:!1,regionStyle:{initial:{fill:"#cccdcf40"}}})}initRussiaMap(){this.initVectorMap("#russia-vector-map",{map:"russia",zoomOnScroll:!1,regionStyle:{initial:{fill:"#cccdcf40"}}})}initIraqMap(){this.initVectorMap("#iraq-vector-map",{map:"iraq",zoomOnScroll:!1,regionStyle:{initial:{fill:"#cccdcf40"}}})}initSpainMap(){this.initVectorMap("#spain-vector-map",{map:"spain",zoomOnScroll:!1,regionStyle:{initial:{fill:"#cccdcf40"}}})}}document.addEventListener("DOMContentLoaded",function(t){new ut().init()});
